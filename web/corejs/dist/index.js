var Ba=Object.defineProperty;var Ga=(u,T,E)=>T in u?Ba(u,T,{enumerable:!0,configurable:!0,writable:!0,value:E}):u[T]=E;var F=(u,T,E)=>Ga(u,typeof T!="symbol"?T+"":T,E);(function(u,T){typeof exports=="object"&&typeof module<"u"?T(require("vue")):typeof define=="function"&&define.amd?define(["vue"],T):(u=typeof globalThis<"u"?globalThis:u||self,T(u.Vue))})(this,function(u){"use strict";function T(r){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(r){for(const e in r)if(e!=="default"){const n=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,n.get?n:{enumerable:!0,get:()=>r[e]})}}return t.default=r,Object.freeze(t)}const E=T(u);/*!
 * vue-global-events v3.0.1
 * (c) 2019-2023 Eduardo San Martin Morote, Damian Dulisz
 * Released under the MIT License.
 */let ae;function Zn(){return ae??(ae=/msie|trident/.test(window.navigator.userAgent.toLowerCase()))}const Qn=/^on(\w+?)((?:Once|Capture|Passive)*)$/,Xn=/[OCP]/g;function Vn(r){return r?Zn()?r.includes("Capture"):r.replace(Xn,",$&").toLowerCase().slice(1).split(",").reduce((e,n)=>(e[n]=!0,e),{}):void 0}const ei=u.defineComponent({name:"GlobalEvents",props:{target:{type:String,default:"document"},filter:{type:[Function,Array],default:()=>()=>!0},stop:Boolean,prevent:Boolean},setup(r,{attrs:t}){let e=Object.create(null);const n=u.ref(!0);return u.onActivated(()=>{n.value=!0}),u.onDeactivated(()=>{n.value=!1}),u.onMounted(()=>{Object.keys(t).filter(i=>i.startsWith("on")).forEach(i=>{const a=t[i],s=Array.isArray(a)?a:[a],l=i.match(Qn);if(!l){__DEV__&&console.warn(`[vue-global-events] Unable to parse "${i}". If this should work, you should probably open a new issue on https://github.com/shentao/vue-global-events.`);return}let[,p,d]=l;p=p.toLowerCase();const v=s.map(h=>g=>{const b=Array.isArray(r.filter)?r.filter:[r.filter];n.value&&b.every(y=>y(g,h,p))&&(r.stop&&g.stopPropagation(),r.prevent&&g.preventDefault(),h(g))}),m=Vn(d);v.forEach(h=>{window[r.target].addEventListener(p,h,m)}),e[i]=[v,p,m]})}),u.onBeforeUnmount(()=>{for(const i in e){const[a,s,l]=e[i];a.forEach(p=>{window[r.target].removeEventListener(s,p,l)})}e={}}),()=>null}});var J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var se,Jt;function V(){if(Jt)return se;Jt=1;function r(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}return se=r,se}var ue,Wt;function ti(){if(Wt)return ue;Wt=1;var r=typeof J=="object"&&J&&J.Object===Object&&J;return ue=r,ue}var ce,Yt;function W(){if(Yt)return ce;Yt=1;var r=ti(),t=typeof self=="object"&&self&&self.Object===Object&&self,e=r||t||Function("return this")();return ce=e,ce}var le,Zt;function ri(){if(Zt)return le;Zt=1;var r=W(),t=function(){return r.Date.now()};return le=t,le}var fe,Qt;function ni(){if(Qt)return fe;Qt=1;var r=/\s/;function t(e){for(var n=e.length;n--&&r.test(e.charAt(n)););return n}return fe=t,fe}var he,Xt;function ii(){if(Xt)return he;Xt=1;var r=ni(),t=/^\s+/;function e(n){return n&&n.slice(0,r(n)+1).replace(t,"")}return he=e,he}var de,Vt;function pe(){if(Vt)return de;Vt=1;var r=W(),t=r.Symbol;return de=t,de}var _e,er;function ai(){if(er)return _e;er=1;var r=pe(),t=Object.prototype,e=t.hasOwnProperty,n=t.toString,i=r?r.toStringTag:void 0;function a(s){var l=e.call(s,i),p=s[i];try{s[i]=void 0;var d=!0}catch{}var v=n.call(s);return d&&(l?s[i]=p:delete s[i]),v}return _e=a,_e}var ve,tr;function oi(){if(tr)return ve;tr=1;var r=Object.prototype,t=r.toString;function e(n){return t.call(n)}return ve=e,ve}var ye,rr;function me(){if(rr)return ye;rr=1;var r=pe(),t=ai(),e=oi(),n="[object Null]",i="[object Undefined]",a=r?r.toStringTag:void 0;function s(l){return l==null?l===void 0?i:n:a&&a in Object(l)?t(l):e(l)}return ye=s,ye}var ge,nr;function ee(){if(nr)return ge;nr=1;function r(t){return t!=null&&typeof t=="object"}return ge=r,ge}var be,ir;function si(){if(ir)return be;ir=1;var r=me(),t=ee(),e="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&r(i)==e}return be=n,be}var we,ar;function ui(){if(ar)return we;ar=1;var r=ii(),t=V(),e=si(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function p(d){if(typeof d=="number")return d;if(e(d))return n;if(t(d)){var v=typeof d.valueOf=="function"?d.valueOf():d;d=t(v)?v+"":v}if(typeof d!="string")return d===0?d:+d;d=r(d);var m=a.test(d);return m||s.test(d)?l(d.slice(2),m?2:8):i.test(d)?n:+d}return we=p,we}var Se,or;function ci(){if(or)return Se;or=1;var r=V(),t=ri(),e=ui(),n="Expected a function",i=Math.max,a=Math.min;function s(l,p,d){var v,m,h,g,b,y,w=0,x=!1,q=!1,C=!0;if(typeof l!="function")throw new TypeError(n);p=e(p)||0,r(d)&&(x=!!d.leading,q="maxWait"in d,h=q?i(e(d.maxWait)||0,p):h,C="trailing"in d?!!d.trailing:C);function P(R){var D=v,z=m;return v=m=void 0,w=R,g=l.apply(z,D),g}function Z(R){return w=R,b=setTimeout(H,p),x?P(R):g}function zt(R){var D=R-y,z=R-w,L=p-D;return q?a(L,h-z):L}function $(R){var D=R-y,z=R-w;return y===void 0||D>=p||D<0||q&&z>=h}function H(){var R=t();if($(R))return Q(R);b=setTimeout(H,zt(R))}function Q(R){return b=void 0,C&&v?P(R):(v=m=void 0,g)}function N(){b!==void 0&&clearTimeout(b),w=0,v=y=m=b=void 0}function I(){return b===void 0?g:Q(t())}function X(){var R=t(),D=$(R);if(v=arguments,m=this,y=R,D){if(b===void 0)return Z(y);if(q)return clearTimeout(b),b=setTimeout(H,p),P(y)}return b===void 0&&(b=setTimeout(H,p)),g}return X.cancel=N,X.flush=I,X}return Se=s,Se}var li=ci();const qe=oe(li),fi=u.defineComponent({__name:"go-plaid-scope",props:{scopeName:{},locals:{},form:{},closer:{},fullscreen:{},setup:{},useDebounce:{},observers:{}},emits:["change-debounced"],setup(r,{emit:t}){const e=r,n=t;let i=u.inject("locals",{});if(e.locals!==void 0){let h={$parent:i};u.isProxy(e.locals)?h=e.locals:Array.isArray(e.locals)?h=u.reactive(Object.assign(h,...e.locals)):h=u.reactive({...h,...e.locals}),i=h,u.provide("locals",i)}let a=u.inject("form");if(e.form!==void 0){let h={$parent:a};u.isProxy(e.form)?h=e.form:Array.isArray(e.form)?h=u.reactive(Object.assign(h,...e.form)):h=u.reactive({...h,...e.form}),a=h,u.provide("form",a)}let s=u.inject("closer",{});const l=(h,g)=>h;if(e.closer!==void 0){let h={$parent:s,show:!1};u.isProxy(e.closer)?h=e.closer:Array.isArray(e.closer)?h=u.reactive(l(Object.assign(h,...e.closer))):h=u.reactive(l({...h,...e.closer})),s=h,u.provide("closer",s)}let p=u.inject("fullscreen",{});if(e.fullscreen!==void 0){let h={$parent:p,active:!1};u.isProxy(e.fullscreen)?h=e.fullscreen:Array.isArray(e.fullscreen)?h=u.reactive(Object.assign(h,...e.fullscreen)):h=u.reactive({...h,...e.fullscreen}),p=h,u.provide("fullscreen",p)}const d=u.inject("vars"),v=u.inject("plaid");Array.isArray(e.setup)&&new Function("vars","locals","form","plaid","closer","fullscreen",e.setup[0])(d,i,a,v,s,p);function m(){!e.observers||e.observers.length==0||u.watch(()=>d==null?void 0:d.__notification,h=>{var g;h&&((g=e.observers)==null||g.forEach(b=>{if((h==null?void 0:h.name)===b.name){let y;try{y=typeof h.payload=="string"?JSON.parse(h.payload):h.payload}catch{y=h.payload}try{new Function("name","payload","vars","locals","form","plaid","closer","fullscreen",b.script)(b.name,y,d,i,a,v,s,p)}catch(w){console.error("Error executing observer script:",w)}}}))})}return u.onMounted(()=>{setTimeout(()=>{if(e.useDebounce){const h=e.useDebounce,g=qe(b=>{n("change-debounced",b)},h);u.watch(i,(b,y)=>{g({locals:b,form:a,oldLocals:y,oldForm:a})})}},0),m()}),(h,g)=>u.renderSlot(h.$slots,"default",{locals:u.unref(i),form:u.unref(a),plaid:u.unref(v),vars:u.unref(d),closer:u.unref(s),setup:h.setup,fullscreen:u.unref(p)})}}),sr=(r,t)=>{r==null||r.forEach(e=>{e&&(typeof e=="string"&&(e=new Function("self",e)),e(t))})};function Re(r,t={},e=u.ref(),n={}){var i;return n={...n||{}},n.resetScroll&&((i=n.mounted)==null||i.push(a=>{a.element.scrollIntoView({behavior:"smooth",block:"start"})})),u.defineComponent({setup(){const a=u.inject("plaid"),s=u.inject("vars"),l=u.inject("closer"),p=u.inject("fullscreen"),d=u.inject("isFetching"),v=u.inject("updateRootTemplate"),m={plaid:a,vars:s,closer:l,fullscreen:p,isFetching:d,updateRootTemplate:v,options:n,...t};return m.Vue=E,m.window=window,m.SCOPE=m,u.reactive(m)},mounted(){this.$nextTick(()=>{this.$el&&this.$el.style&&this.$el.style.height&&(e.value.style.height=this.$el.style.height),sr(n.mounted,{element:e.value,comp:this,window,Vue:E})})},unmounted(){sr(n.unmounted,{element:e.value,comp:this,window,Vue:E})},template:r})}const hi=["id"],di=u.defineComponent({__name:"go-plaid-portal",props:{loader:{},content:{},visible:{type:Boolean},afterLoaded:{type:Function},portalName:{},form:{},locals:{},methods:{},data:{},autoReloadInterval:{},raw:{type:Boolean},scope:{}},emits:["mounted","unmounted"],setup(r,{emit:t}){window.__goplaid=window.__goplaid??{},window.__goplaid.portals=window.__goplaid.portals??{},window.__goplaid.index=window.__goplaid.index??0;const e=u.ref(),n=r,i=t,a=u.shallowRef(null),s=u.ref(0),l=u.useSlots(),p=n.portalName||"anonymous$"+window.__goplaid.index++;let d=u.inject("locals",{});n.locals!==void 0&&(u.isProxy(n.locals)||(d=u.reactive({$parent:d,...n.locals}))),u.provide("locals",d);let v=u.inject("form",{});n.form!==void 0&&(u.isProxy(n.form)||(v=u.reactive({$parent:v,...n.form}))),u.provide("form",v);const m={form:v,locals:d,...n.scope??{}},h=(y={})=>(y.mounted||(y.mounted=[]),y.unmounted||(y.unmounted=[]),y.mounted.push(w=>i("mounted",w)),y.unmounted.push(w=>i("unmounted",w)),y),g=(y,w={})=>{a.value=Re(y,m,e,h(w))},b=()=>{if(l.default){a.value=Re('<slot v-bind="SCOPE"></slot>',m,e,h({}));return}const y=n.content;if(y){g(y);return}const w=n.loader;w&&w.loadPortalBody(!0).go().then(x=>{g(x.body)})};return u.onMounted(()=>{window.__goplaid.portals[p]={portalName:p,updatePortalTemplate:g,reload:b},b()}),u.onUpdated(()=>{if(n.autoReloadInterval&&s.value==0){const y=parseInt(n.autoReloadInterval+"");if(y==0)return;s.value=setInterval(()=>{b()},y)}s.value&&s.value>0&&n.autoReloadInterval==0&&(clearInterval(s.value),s.value=0)}),u.onBeforeUnmount(()=>{delete window.__goplaid.portals[p],s.value&&s.value>0&&clearInterval(s.value)}),(y,w)=>y.raw?(u.openBlock(),u.createElementBlock(u.Fragment,{key:0},[a.value?(u.openBlock(),u.createBlock(u.resolveDynamicComponent(a.value),{key:0},{default:u.withCtx(()=>[u.renderSlot(y.$slots,"default",u.mergeProps({form:u.unref(v),locals:u.unref(d)},m))]),_:3})):u.createCommentVNode("",!0)],64)):(u.openBlock(),u.createElementBlock(u.Fragment,{key:1},[y.visible?(u.openBlock(),u.createElementBlock("div",u.mergeProps({key:0,class:"go-plaid-portal"},y.$attrs,{id:y.portalName&&"portal--"+y.portalName,ref_key:"portal",ref:e}),[a.value?(u.openBlock(),u.createBlock(u.resolveDynamicComponent(a.value),{key:0},{default:u.withCtx(()=>[u.renderSlot(y.$slots,"default",u.mergeProps({form:u.unref(v),locals:u.unref(d)},m))]),_:3})):u.createCommentVNode("",!0)],16,hi)):u.createCommentVNode("",!0)],64))}}),pi=u.defineComponent({__name:"go-plaid-run-script",props:{script:{type:Function,required:!0},setup:{type:Function},beforeUnmount:{type:Function},unmounted:{type:Function}},setup(r){const t=r,e={...E,view:window};return t.setup&&t.setup(e),u.onMounted(()=>{t.script(E)}),u.onBeforeUnmount(()=>{t.beforeUnmount&&t.beforeUnmount(e)}),u.onUnmounted(()=>{t.unmounted&&t.unmounted(e)}),()=>{}}}),_i=u.defineComponent({__name:"user-component",props:{scope:{type:Object,default:()=>{}},assign:{type:Array,default:()=>[]},setup:{type:Array,default:[]}},emits:["mounted","beforeUnmount"],setup(r,{emit:t}){const e=r;e.assign.forEach(s=>{Object.assign(s[0],s[1])});const n=t;let i=u.ref({});e.scope&&(i=u.ref(e.scope));const a={watch:u.watch,isProxy:u.isProxy,isReactive:u.isReactive,isRef:u.isRef,ref:u.ref,reactive:u.reactive,debounce:qe,computed:u.computed,inject:u.inject,provide:u.provide,shallowRef:u.shallowRef,scope:e.scope,$scope:i,window,Vue:E};if(e.setup){const s=l=>{l({...a,func:()=>s(l)})};e.setup.forEach(s)}return u.onMounted(()=>{n("mounted",a)}),u.onBeforeUnmount(()=>{n("beforeUnmount",a)}),(s,l)=>e.scope?u.renderSlot(s.$slots,"default",u.normalizeProps(u.mergeProps({key:0},u.unref(i)))):u.renderSlot(s.$slots,"default",{key:1})}});var ur={};/*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */var cr;function vi(){return cr||(cr=1,function(){var r;function t(o){var c=0;return function(){return c<o.length?{done:!1,value:o[c++]}:{done:!0}}}var e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof J=="object"&&J];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function a(o,c){if(c)e:{var f=i;o=o.split(".");for(var _=0;_<o.length-1;_++){var S=o[_];if(!(S in f))break e;f=f[S]}o=o[o.length-1],_=f[o],c=c(_),c!=_&&c!=null&&e(f,o,{configurable:!0,writable:!0,value:c})}}a("Symbol",function(o){function c(j){if(this instanceof c)throw new TypeError("Symbol is not a constructor");return new f(_+(j||"")+"_"+S++,j)}function f(j,A){this.A=j,e(this,"description",{configurable:!0,writable:!0,value:A})}if(o)return o;f.prototype.toString=function(){return this.A};var _="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",S=0;return c}),a("Symbol.iterator",function(o){if(o)return o;o=Symbol("Symbol.iterator");for(var c="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),f=0;f<c.length;f++){var _=i[c[f]];typeof _=="function"&&typeof _.prototype[o]!="function"&&e(_.prototype,o,{configurable:!0,writable:!0,value:function(){return s(t(this))}})}return o});function s(o){return o={next:o},o[Symbol.iterator]=function(){return this},o}function l(o){var c=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return c?c.call(o):{next:t(o)}}var p;if(typeof Object.setPrototypeOf=="function")p=Object.setPrototypeOf;else{var d;e:{var v={a:!0},m={};try{m.__proto__=v,d=m.a;break e}catch{}d=!1}p=d?function(o,c){if(o.__proto__=c,o.__proto__!==c)throw new TypeError(o+" is not extensible");return o}:null}var h=p;function g(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function b(o){if(o.m)throw new TypeError("Generator is already running");o.m=!0}g.prototype.o=function(o){this.v=o},g.prototype.s=function(o){this.l={D:o,F:!0},this.h=this.C||this.u},g.prototype.return=function(o){this.l={return:o},this.h=this.u};function y(o,c){return o.h=3,{value:c}}function w(o){this.g=new g,this.G=o}w.prototype.o=function(o){return b(this.g),this.g.j?q(this,this.g.j.next,o,this.g.o):(this.g.o(o),C(this))};function x(o,c){b(o.g);var f=o.g.j;return f?q(o,"return"in f?f.return:function(_){return{value:_,done:!0}},c,o.g.return):(o.g.return(c),C(o))}w.prototype.s=function(o){return b(this.g),this.g.j?q(this,this.g.j.throw,o,this.g.o):(this.g.s(o),C(this))};function q(o,c,f,_){try{var S=c.call(o.g.j,f);if(!(S instanceof Object))throw new TypeError("Iterator result "+S+" is not an object");if(!S.done)return o.g.m=!1,S;var j=S.value}catch(A){return o.g.j=null,o.g.s(A),C(o)}return o.g.j=null,_.call(o.g,j),C(o)}function C(o){for(;o.g.h;)try{var c=o.G(o.g);if(c)return o.g.m=!1,{value:c.value,done:!1}}catch(f){o.g.v=void 0,o.g.s(f)}if(o.g.m=!1,o.g.l){if(c=o.g.l,o.g.l=null,c.F)throw c.D;return{value:c.return,done:!0}}return{value:void 0,done:!0}}function P(o){this.next=function(c){return o.o(c)},this.throw=function(c){return o.s(c)},this.return=function(c){return x(o,c)},this[Symbol.iterator]=function(){return this}}function Z(o,c){return c=new P(new w(c)),h&&o.prototype&&h(c,o.prototype),c}function zt(o,c){o instanceof String&&(o+="");var f=0,_=!1,S={next:function(){if(!_&&f<o.length){var j=f++;return{value:c(j,o[j]),done:!1}}return _=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}if(a("Array.prototype.entries",function(o){return o||function(){return zt(this,function(c,f){return[c,f]})}}),typeof Blob<"u"&&(typeof FormData>"u"||!FormData.prototype.keys)){var $=function(o,c){for(var f=0;f<o.length;f++)c(o[f])},H=function(o){return o.replace(/\r?\n|\r/g,`\r
`)},Q=function(o,c,f){return c instanceof Blob?(f=f!==void 0?f+"":typeof c.name=="string"?c.name:"blob",(c.name!==f||Object.prototype.toString.call(c)==="[object Blob]")&&(c=new File([c],f)),[String(o),c]):[String(o),String(c)]},N=function(o,c){if(o.length<c)throw new TypeError(c+" argument required, but only "+o.length+" present.")},I=typeof globalThis=="object"?globalThis:typeof window=="object"?window:typeof self=="object"?self:this,X=I.FormData,R=I.XMLHttpRequest&&I.XMLHttpRequest.prototype.send,D=I.Request&&I.fetch,z=I.navigator&&I.navigator.sendBeacon,L=I.Element&&I.Element.prototype,B=I.Symbol&&Symbol.toStringTag;B&&(Blob.prototype[B]||(Blob.prototype[B]="Blob"),"File"in I&&!File.prototype[B]&&(File.prototype[B]="File"));try{new File([],"")}catch{I.File=function(c,f,_){return c=new Blob(c,_||{}),Object.defineProperties(c,{name:{value:f},lastModified:{value:+(_&&_.lastModified!==void 0?new Date(_.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),B&&Object.defineProperty(c,B,{value:"File"}),c}}var Kt=function(o){return o.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},M=function(o){this.i=[];var c=this;o&&$(o.elements,function(f){if(f.name&&!f.disabled&&f.type!=="submit"&&f.type!=="button"&&!f.matches("form fieldset[disabled] *"))if(f.type==="file"){var _=f.files&&f.files.length?f.files:[new File([],"",{type:"application/octet-stream"})];$(_,function(S){c.append(f.name,S)})}else f.type==="select-multiple"||f.type==="select-one"?$(f.options,function(S){!S.disabled&&S.selected&&c.append(f.name,S.value)}):f.type==="checkbox"||f.type==="radio"?f.checked&&c.append(f.name,f.value):(_=f.type==="textarea"?H(f.value):f.value,c.append(f.name,_))})};if(r=M.prototype,r.append=function(o,c,f){N(arguments,2),this.i.push(Q(o,c,f))},r.delete=function(o){N(arguments,1);var c=[];o=String(o),$(this.i,function(f){f[0]!==o&&c.push(f)}),this.i=c},r.entries=function o(){var c,f=this;return Z(o,function(_){if(_.h==1&&(c=0),_.h!=3)return c<f.i.length?_=y(_,f.i[c]):(_.h=0,_=void 0),_;c++,_.h=2})},r.forEach=function(o,c){N(arguments,1);for(var f=l(this),_=f.next();!_.done;_=f.next()){var S=l(_.value);_=S.next().value,S=S.next().value,o.call(c,S,_,this)}},r.get=function(o){N(arguments,1);var c=this.i;o=String(o);for(var f=0;f<c.length;f++)if(c[f][0]===o)return c[f][1];return null},r.getAll=function(o){N(arguments,1);var c=[];return o=String(o),$(this.i,function(f){f[0]===o&&c.push(f[1])}),c},r.has=function(o){N(arguments,1),o=String(o);for(var c=0;c<this.i.length;c++)if(this.i[c][0]===o)return!0;return!1},r.keys=function o(){var c=this,f,_,S,j,A;return Z(o,function(k){if(k.h==1&&(f=l(c),_=f.next()),k.h!=3){if(_.done){k.h=0;return}return S=_.value,j=l(S),A=j.next().value,y(k,A)}_=f.next(),k.h=2})},r.set=function(o,c,f){N(arguments,2),o=String(o);var _=[],S=Q(o,c,f),j=!0;$(this.i,function(A){A[0]===o?j&&(j=!_.push(S)):_.push(A)}),j&&_.push(S),this.i=_},r.values=function o(){var c=this,f,_,S,j,A;return Z(o,function(k){if(k.h==1&&(f=l(c),_=f.next()),k.h!=3){if(_.done){k.h=0;return}return S=_.value,j=l(S),j.next(),A=j.next().value,y(k,A)}_=f.next(),k.h=2})},M.prototype._asNative=function(){for(var o=new X,c=l(this),f=c.next();!f.done;f=c.next()){var _=l(f.value);f=_.next().value,_=_.next().value,o.append(f,_)}return o},M.prototype._blob=function(){var o="----formdata-polyfill-"+Math.random(),c=[],f="--"+o+`\r
Content-Disposition: form-data; name="`;return this.forEach(function(_,S){return typeof _=="string"?c.push(f+Kt(H(S))+(`"\r
\r
`+H(_)+`\r
`)):c.push(f+Kt(H(S))+('"; filename="'+Kt(_.name)+`"\r
Content-Type: `+(_.type||"application/octet-stream")+`\r
\r
`),_,`\r
`)}),c.push("--"+o+"--"),new Blob(c,{type:"multipart/form-data; boundary="+o})},M.prototype[Symbol.iterator]=function(){return this.entries()},M.prototype.toString=function(){return"[object FormData]"},L&&!L.matches&&(L.matches=L.matchesSelector||L.mozMatchesSelector||L.msMatchesSelector||L.oMatchesSelector||L.webkitMatchesSelector||function(o){o=(this.document||this.ownerDocument).querySelectorAll(o);for(var c=o.length;0<=--c&&o.item(c)!==this;);return-1<c}),B&&(M.prototype[B]="FormData"),R){var Na=I.XMLHttpRequest.prototype.setRequestHeader;I.XMLHttpRequest.prototype.setRequestHeader=function(o,c){Na.call(this,o,c),o.toLowerCase()==="content-type"&&(this.B=!0)},I.XMLHttpRequest.prototype.send=function(o){o instanceof M?(o=o._blob(),this.B||this.setRequestHeader("Content-Type",o.type),R.call(this,o)):R.call(this,o)}}D&&(I.fetch=function(o,c){return c&&c.body&&c.body instanceof M&&(c.body=c.body._blob()),D.call(this,o,c)}),z&&(I.navigator.sendBeacon=function(o,c){return c instanceof M&&(c=c._asNative()),z.call(this,o,c)}),I.FormData=M}}()),ur}vi();const lr="%[a-f0-9]{2}",fr=new RegExp("("+lr+")|([^%]+?)","gi"),hr=new RegExp("("+lr+")+","gi");function Ce(r,t){try{return[decodeURIComponent(r.join(""))]}catch{}if(r.length===1)return r;t=t||1;const e=r.slice(0,t),n=r.slice(t);return Array.prototype.concat.call([],Ce(e),Ce(n))}function yi(r){try{return decodeURIComponent(r)}catch{let t=r.match(fr)||[];for(let e=1;e<t.length;e++)r=Ce(t,e).join(""),t=r.match(fr)||[];return r}}function mi(r){const t={"%FE%FF":"��","%FF%FE":"��"};let e=hr.exec(r);for(;e;){try{t[e[0]]=decodeURIComponent(e[0])}catch{const i=yi(e[0]);i!==e[0]&&(t[e[0]]=i)}e=hr.exec(r)}t["%C2"]="�";const n=Object.keys(t);for(const i of n)r=r.replace(new RegExp(i,"g"),t[i]);return r}function gi(r){if(typeof r!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return decodeURIComponent(r)}catch{return mi(r)}}function dr(r,t){if(!(typeof r=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(r===""||t==="")return[];const e=r.indexOf(t);return e===-1?[]:[r.slice(0,e),r.slice(e+t.length)]}function bi(r,t){const e={};if(Array.isArray(t))for(const n of t){const i=Object.getOwnPropertyDescriptor(r,n);i!=null&&i.enumerable&&Object.defineProperty(e,n,i)}else for(const n of Reflect.ownKeys(r)){const i=Object.getOwnPropertyDescriptor(r,n);if(i.enumerable){const a=r[n];t(n,a,r)&&Object.defineProperty(e,n,i)}}return e}const wi=r=>r==null,Si=r=>encodeURIComponent(r).replaceAll(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Fe=Symbol("encodeFragmentIdentifier");function qi(r){switch(r.arrayFormat){case"index":return t=>(e,n)=>{const i=e.length;return n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?e:n===null?[...e,[O(t,r),"[",i,"]"].join("")]:[...e,[O(t,r),"[",O(i,r),"]=",O(n,r)].join("")]};case"bracket":return t=>(e,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?e:n===null?[...e,[O(t,r),"[]"].join("")]:[...e,[O(t,r),"[]=",O(n,r)].join("")];case"colon-list-separator":return t=>(e,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?e:n===null?[...e,[O(t,r),":list="].join("")]:[...e,[O(t,r),":list=",O(n,r)].join("")];case"comma":case"separator":case"bracket-separator":{const t=r.arrayFormat==="bracket-separator"?"[]=":"=";return e=>(n,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[O(e,r),t,O(i,r)].join("")]:[[n,O(i,r)].join(r.arrayFormatSeparator)])}default:return t=>(e,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?e:n===null?[...e,O(t,r)]:[...e,[O(t,r),"=",O(n,r)].join("")]}}function Ri(r){let t;switch(r.arrayFormat){case"index":return(e,n,i)=>{if(t=/\[(\d*)]$/.exec(e),e=e.replace(/\[\d*]$/,""),!t){i[e]=n;return}i[e]===void 0&&(i[e]={}),i[e][t[1]]=n};case"bracket":return(e,n,i)=>{if(t=/(\[])$/.exec(e),e=e.replace(/\[]$/,""),!t){i[e]=n;return}if(i[e]===void 0){i[e]=[n];return}i[e]=[...i[e],n]};case"colon-list-separator":return(e,n,i)=>{if(t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!t){i[e]=n;return}if(i[e]===void 0){i[e]=[n];return}i[e]=[...i[e],n]};case"comma":case"separator":return(e,n,i)=>{const a=typeof n=="string"&&n.includes(r.arrayFormatSeparator),s=typeof n=="string"&&!a&&U(n,r).includes(r.arrayFormatSeparator);n=s?U(n,r):n;const l=a||s?n.split(r.arrayFormatSeparator).map(p=>U(p,r)):n===null?n:U(n,r);i[e]=l};case"bracket-separator":return(e,n,i)=>{const a=/(\[])$/.test(e);if(e=e.replace(/\[]$/,""),!a){i[e]=n&&U(n,r);return}const s=n===null?[]:n.split(r.arrayFormatSeparator).map(l=>U(l,r));if(i[e]===void 0){i[e]=s;return}i[e]=[...i[e],...s]};default:return(e,n,i)=>{if(i[e]===void 0){i[e]=n;return}i[e]=[...[i[e]].flat(),n]}}}function pr(r){if(typeof r!="string"||r.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function O(r,t){return t.encode?t.strict?Si(r):encodeURIComponent(r):r}function U(r,t){return t.decode?gi(r):r}function _r(r){return Array.isArray(r)?r.sort():typeof r=="object"?_r(Object.keys(r)).sort((t,e)=>Number(t)-Number(e)).map(t=>r[t]):r}function vr(r){const t=r.indexOf("#");return t!==-1&&(r=r.slice(0,t)),r}function Ci(r){let t="";const e=r.indexOf("#");return e!==-1&&(t=r.slice(e)),t}function yr(r,t){return t.parseNumbers&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?r=Number(r):t.parseBooleans&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")&&(r=r.toLowerCase()==="true"),r}function Oe(r){r=vr(r);const t=r.indexOf("?");return t===-1?"":r.slice(t+1)}function Ie(r,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...t},pr(t.arrayFormatSeparator);const e=Ri(t),n=Object.create(null);if(typeof r!="string"||(r=r.trim().replace(/^[?#&]/,""),!r))return n;for(const i of r.split("&")){if(i==="")continue;const a=t.decode?i.replaceAll("+"," "):i;let[s,l]=dr(a,"=");s===void 0&&(s=a),l=l===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?l:U(l,t),e(U(s,t),l,n)}for(const[i,a]of Object.entries(n))if(typeof a=="object"&&a!==null)for(const[s,l]of Object.entries(a))a[s]=yr(l,t);else n[i]=yr(a,t);return t.sort===!1?n:(t.sort===!0?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((i,a)=>{const s=n[a];return i[a]=s&&typeof s=="object"&&!Array.isArray(s)?_r(s):s,i},Object.create(null))}function mr(r,t){if(!r)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},pr(t.arrayFormatSeparator);const e=s=>t.skipNull&&wi(r[s])||t.skipEmptyString&&r[s]==="",n=qi(t),i={};for(const[s,l]of Object.entries(r))e(s)||(i[s]=l);const a=Object.keys(i);return t.sort!==!1&&a.sort(t.sort),a.map(s=>{const l=r[s];return l===void 0?"":l===null?O(s,t):Array.isArray(l)?l.length===0&&t.arrayFormat==="bracket-separator"?O(s,t)+"[]":l.reduce(n(s),[]).join("&"):O(s,t)+"="+O(l,t)}).filter(s=>s.length>0).join("&")}function gr(r,t){var i;t={decode:!0,...t};let[e,n]=dr(r,"#");return e===void 0&&(e=r),{url:((i=e==null?void 0:e.split("?"))==null?void 0:i[0])??"",query:Ie(Oe(r),t),...t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:U(n,t)}:{}}}function br(r,t){t={encode:!0,strict:!0,[Fe]:!0,...t};const e=vr(r.url).split("?")[0]||"",n=Oe(r.url),i={...Ie(n,{sort:!1}),...r.query};let a=mr(i,t);a&&(a=`?${a}`);let s=Ci(r.url);if(typeof r.fragmentIdentifier=="string"){const l=new URL(e);l.hash=r.fragmentIdentifier,s=t[Fe]?l.hash:`#${r.fragmentIdentifier}`}return`${e}${a}${s}`}function wr(r,t,e){e={parseFragmentIdentifier:!0,[Fe]:!1,...e};const{url:n,query:i,fragmentIdentifier:a}=gr(r,e);return br({url:n,query:bi(i,t),fragmentIdentifier:a},e)}function Fi(r,t,e){const n=Array.isArray(t)?i=>!t.includes(i):(i,a)=>!t(i,a);return wr(r,n,e)}const G=Object.freeze(Object.defineProperty({__proto__:null,exclude:Fi,extract:Oe,parse:Ie,parseUrl:gr,pick:wr,stringify:mr,stringifyUrl:br},Symbol.toStringTag,{value:"Module"}));var je,Sr;function Oi(){if(Sr)return je;Sr=1;function r(t,e){for(var n=-1,i=e.length,a=t.length;++n<i;)t[a+n]=e[n];return t}return je=r,je}var Te,qr;function Ii(){if(qr)return Te;qr=1;var r=me(),t=ee(),e="[object Arguments]";function n(i){return t(i)&&r(i)==e}return Te=n,Te}var Ae,Rr;function ji(){if(Rr)return Ae;Rr=1;var r=Ii(),t=ee(),e=Object.prototype,n=e.hasOwnProperty,i=e.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(s){return t(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return Ae=a,Ae}var Ee,Cr;function Ti(){if(Cr)return Ee;Cr=1;var r=Array.isArray;return Ee=r,Ee}var xe,Fr;function Ai(){if(Fr)return xe;Fr=1;var r=pe(),t=ji(),e=Ti(),n=r?r.isConcatSpreadable:void 0;function i(a){return e(a)||t(a)||!!(n&&a&&a[n])}return xe=i,xe}var Pe,Or;function Ei(){if(Or)return Pe;Or=1;var r=Oi(),t=Ai();function e(n,i,a,s,l){var p=-1,d=n.length;for(a||(a=t),l||(l=[]);++p<d;){var v=n[p];i>0&&a(v)?i>1?e(v,i-1,a,s,l):r(l,v):s||(l[l.length]=v)}return l}return Pe=e,Pe}var De,Ir;function jr(){if(Ir)return De;Ir=1;function r(t){return t}return De=r,De}var Le,Tr;function xi(){if(Tr)return Le;Tr=1;function r(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}return Le=r,Le}var ke,Ar;function Pi(){if(Ar)return ke;Ar=1;var r=xi(),t=Math.max;function e(n,i,a){return i=t(i===void 0?n.length-1:i,0),function(){for(var s=arguments,l=-1,p=t(s.length-i,0),d=Array(p);++l<p;)d[l]=s[i+l];l=-1;for(var v=Array(i+1);++l<i;)v[l]=s[l];return v[i]=a(d),r(n,this,v)}}return ke=e,ke}var Me,Er;function Di(){if(Er)return Me;Er=1;function r(t){return function(){return t}}return Me=r,Me}var Ue,xr;function Pr(){if(xr)return Ue;xr=1;var r=me(),t=V(),e="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(l){if(!t(l))return!1;var p=r(l);return p==n||p==i||p==e||p==a}return Ue=s,Ue}var $e,Dr;function Li(){if(Dr)return $e;Dr=1;var r=W(),t=r["__core-js_shared__"];return $e=t,$e}var He,Lr;function ki(){if(Lr)return He;Lr=1;var r=Li(),t=function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function e(n){return!!t&&t in n}return He=e,He}var Ne,kr;function Mi(){if(kr)return Ne;kr=1;var r=Function.prototype,t=r.toString;function e(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Ne=e,Ne}var Be,Mr;function Ui(){if(Mr)return Be;Mr=1;var r=Pr(),t=ki(),e=V(),n=Mi(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,p=s.toString,d=l.hasOwnProperty,v=RegExp("^"+p.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(h){if(!e(h)||t(h))return!1;var g=r(h)?v:a;return g.test(n(h))}return Be=m,Be}var Ge,Ur;function $i(){if(Ur)return Ge;Ur=1;function r(t,e){return t==null?void 0:t[e]}return Ge=r,Ge}var ze,$r;function te(){if($r)return ze;$r=1;var r=Ui(),t=$i();function e(n,i){var a=t(n,i);return r(a)?a:void 0}return ze=e,ze}var Ke,Hr;function Hi(){if(Hr)return Ke;Hr=1;var r=te(),t=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch{}}();return Ke=t,Ke}var Je,Nr;function Ni(){if(Nr)return Je;Nr=1;var r=Di(),t=Hi(),e=jr(),n=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:r(a),writable:!0})}:e;return Je=n,Je}var We,Br;function Bi(){if(Br)return We;Br=1;var r=800,t=16,e=Date.now;function n(i){var a=0,s=0;return function(){var l=e(),p=t-(l-s);if(s=l,p>0){if(++a>=r)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return We=n,We}var Ye,Gr;function Gi(){if(Gr)return Ye;Gr=1;var r=Ni(),t=Bi(),e=t(r);return Ye=e,Ye}var Ze,zr;function Kr(){if(zr)return Ze;zr=1;var r=jr(),t=Pi(),e=Gi();function n(i,a){return e(t(i,a,r),i+"")}return Ze=n,Ze}var Qe,Jr;function re(){if(Jr)return Qe;Jr=1;var r=te(),t=r(Object,"create");return Qe=t,Qe}var Xe,Wr;function zi(){if(Wr)return Xe;Wr=1;var r=re();function t(){this.__data__=r?r(null):{},this.size=0}return Xe=t,Xe}var Ve,Yr;function Ki(){if(Yr)return Ve;Yr=1;function r(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}return Ve=r,Ve}var et,Zr;function Ji(){if(Zr)return et;Zr=1;var r=re(),t="__lodash_hash_undefined__",e=Object.prototype,n=e.hasOwnProperty;function i(a){var s=this.__data__;if(r){var l=s[a];return l===t?void 0:l}return n.call(s,a)?s[a]:void 0}return et=i,et}var tt,Qr;function Wi(){if(Qr)return tt;Qr=1;var r=re(),t=Object.prototype,e=t.hasOwnProperty;function n(i){var a=this.__data__;return r?a[i]!==void 0:e.call(a,i)}return tt=n,tt}var rt,Xr;function Yi(){if(Xr)return rt;Xr=1;var r=re(),t="__lodash_hash_undefined__";function e(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=r&&i===void 0?t:i,this}return rt=e,rt}var nt,Vr;function Zi(){if(Vr)return nt;Vr=1;var r=zi(),t=Ki(),e=Ji(),n=Wi(),i=Yi();function a(s){var l=-1,p=s==null?0:s.length;for(this.clear();++l<p;){var d=s[l];this.set(d[0],d[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=n,a.prototype.set=i,nt=a,nt}var it,en;function Qi(){if(en)return it;en=1;function r(){this.__data__=[],this.size=0}return it=r,it}var at,tn;function Xi(){if(tn)return at;tn=1;function r(t,e){return t===e||t!==t&&e!==e}return at=r,at}var ot,rn;function ne(){if(rn)return ot;rn=1;var r=Xi();function t(e,n){for(var i=e.length;i--;)if(r(e[i][0],n))return i;return-1}return ot=t,ot}var st,nn;function Vi(){if(nn)return st;nn=1;var r=ne(),t=Array.prototype,e=t.splice;function n(i){var a=this.__data__,s=r(a,i);if(s<0)return!1;var l=a.length-1;return s==l?a.pop():e.call(a,s,1),--this.size,!0}return st=n,st}var ut,an;function ea(){if(an)return ut;an=1;var r=ne();function t(e){var n=this.__data__,i=r(n,e);return i<0?void 0:n[i][1]}return ut=t,ut}var ct,on;function ta(){if(on)return ct;on=1;var r=ne();function t(e){return r(this.__data__,e)>-1}return ct=t,ct}var lt,sn;function ra(){if(sn)return lt;sn=1;var r=ne();function t(e,n){var i=this.__data__,a=r(i,e);return a<0?(++this.size,i.push([e,n])):i[a][1]=n,this}return lt=t,lt}var ft,un;function na(){if(un)return ft;un=1;var r=Qi(),t=Vi(),e=ea(),n=ta(),i=ra();function a(s){var l=-1,p=s==null?0:s.length;for(this.clear();++l<p;){var d=s[l];this.set(d[0],d[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=n,a.prototype.set=i,ft=a,ft}var ht,cn;function ia(){if(cn)return ht;cn=1;var r=te(),t=W(),e=r(t,"Map");return ht=e,ht}var dt,ln;function aa(){if(ln)return dt;ln=1;var r=Zi(),t=na(),e=ia();function n(){this.size=0,this.__data__={hash:new r,map:new(e||t),string:new r}}return dt=n,dt}var pt,fn;function oa(){if(fn)return pt;fn=1;function r(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}return pt=r,pt}var _t,hn;function ie(){if(hn)return _t;hn=1;var r=oa();function t(e,n){var i=e.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return _t=t,_t}var vt,dn;function sa(){if(dn)return vt;dn=1;var r=ie();function t(e){var n=r(this,e).delete(e);return this.size-=n?1:0,n}return vt=t,vt}var yt,pn;function ua(){if(pn)return yt;pn=1;var r=ie();function t(e){return r(this,e).get(e)}return yt=t,yt}var mt,_n;function ca(){if(_n)return mt;_n=1;var r=ie();function t(e){return r(this,e).has(e)}return mt=t,mt}var gt,vn;function la(){if(vn)return gt;vn=1;var r=ie();function t(e,n){var i=r(this,e),a=i.size;return i.set(e,n),this.size+=i.size==a?0:1,this}return gt=t,gt}var bt,yn;function fa(){if(yn)return bt;yn=1;var r=aa(),t=sa(),e=ua(),n=ca(),i=la();function a(s){var l=-1,p=s==null?0:s.length;for(this.clear();++l<p;){var d=s[l];this.set(d[0],d[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=n,a.prototype.set=i,bt=a,bt}var wt,mn;function ha(){if(mn)return wt;mn=1;var r="__lodash_hash_undefined__";function t(e){return this.__data__.set(e,r),this}return wt=t,wt}var St,gn;function da(){if(gn)return St;gn=1;function r(t){return this.__data__.has(t)}return St=r,St}var qt,bn;function wn(){if(bn)return qt;bn=1;var r=fa(),t=ha(),e=da();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new r;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=t,n.prototype.has=e,qt=n,qt}var Rt,Sn;function pa(){if(Sn)return Rt;Sn=1;function r(t,e,n,i){for(var a=t.length,s=n+(i?1:-1);i?s--:++s<a;)if(e(t[s],s,t))return s;return-1}return Rt=r,Rt}var Ct,qn;function _a(){if(qn)return Ct;qn=1;function r(t){return t!==t}return Ct=r,Ct}var Ft,Rn;function va(){if(Rn)return Ft;Rn=1;function r(t,e,n){for(var i=n-1,a=t.length;++i<a;)if(t[i]===e)return i;return-1}return Ft=r,Ft}var Ot,Cn;function ya(){if(Cn)return Ot;Cn=1;var r=pa(),t=_a(),e=va();function n(i,a,s){return a===a?e(i,a,s):r(i,t,s)}return Ot=n,Ot}var It,Fn;function On(){if(Fn)return It;Fn=1;var r=ya();function t(e,n){var i=e==null?0:e.length;return!!i&&r(e,n,0)>-1}return It=t,It}var jt,In;function jn(){if(In)return jt;In=1;function r(t,e,n){for(var i=-1,a=t==null?0:t.length;++i<a;)if(n(e,t[i]))return!0;return!1}return jt=r,jt}var Tt,Tn;function An(){if(Tn)return Tt;Tn=1;function r(t,e){return t.has(e)}return Tt=r,Tt}var At,En;function ma(){if(En)return At;En=1;var r=te(),t=W(),e=r(t,"Set");return At=e,At}var Et,xn;function ga(){if(xn)return Et;xn=1;function r(){}return Et=r,Et}var xt,Pn;function Dn(){if(Pn)return xt;Pn=1;function r(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}return xt=r,xt}var Pt,Ln;function ba(){if(Ln)return Pt;Ln=1;var r=ma(),t=ga(),e=Dn(),n=1/0,i=r&&1/e(new r([,-0]))[1]==n?function(a){return new r(a)}:t;return Pt=i,Pt}var Dt,kn;function wa(){if(kn)return Dt;kn=1;var r=wn(),t=On(),e=jn(),n=An(),i=ba(),a=Dn(),s=200;function l(p,d,v){var m=-1,h=t,g=p.length,b=!0,y=[],w=y;if(v)b=!1,h=e;else if(g>=s){var x=d?null:i(p);if(x)return a(x);b=!1,h=n,w=new r}else w=d?[]:y;e:for(;++m<g;){var q=p[m],C=d?d(q):q;if(q=v||q!==0?q:0,b&&C===C){for(var P=w.length;P--;)if(w[P]===C)continue e;d&&w.push(C),y.push(q)}else h(w,C,v)||(w!==y&&w.push(C),y.push(q))}return y}return Dt=l,Dt}var Lt,Mn;function Sa(){if(Mn)return Lt;Mn=1;var r=9007199254740991;function t(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=r}return Lt=t,Lt}var kt,Un;function qa(){if(Un)return kt;Un=1;var r=Pr(),t=Sa();function e(n){return n!=null&&t(n.length)&&!r(n)}return kt=e,kt}var Mt,$n;function Hn(){if($n)return Mt;$n=1;var r=qa(),t=ee();function e(n){return t(n)&&r(n)}return Mt=e,Mt}var Ut,Nn;function Ra(){if(Nn)return Ut;Nn=1;var r=Ei(),t=Kr(),e=wa(),n=Hn(),i=t(function(a){return e(r(a,1,n,!0))});return Ut=i,Ut}var Ca=Ra();const Fa=oe(Ca);var $t,Bn;function Oa(){if(Bn)return $t;Bn=1;function r(t,e){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=e(t[n],n,t);return a}return $t=r,$t}var Ht,Gn;function Ia(){if(Gn)return Ht;Gn=1;function r(t){return function(e){return t(e)}}return Ht=r,Ht}var Nt,zn;function ja(){if(zn)return Nt;zn=1;var r=wn(),t=On(),e=jn(),n=Oa(),i=Ia(),a=An(),s=200;function l(p,d,v,m){var h=-1,g=t,b=!0,y=p.length,w=[],x=d.length;if(!y)return w;v&&(d=n(d,i(v))),m?(g=e,b=!1):d.length>=s&&(g=a,b=!1,d=new r(d));e:for(;++h<y;){var q=p[h],C=v==null?q:v(q);if(q=m||q!==0?q:0,b&&C===C){for(var P=x;P--;)if(d[P]===C)continue e;w.push(q)}else g(d,C,m)||w.push(q)}return w}return Nt=l,Nt}var Bt,Kn;function Ta(){if(Kn)return Bt;Kn=1;var r=ja(),t=Kr(),e=Hn(),n=t(function(i,a){return e(i)?r(i,a):[]});return Bt=n,Bt}var Aa=Ta();const Ea=oe(Aa);function xa(r,t){const e=r.location,n=G.parseUrl((e==null?void 0:e.url)||t,{arrayFormat:"comma",parseFragmentIdentifier:!0}),i={};let a;if(e){if(e.stringQuery){const m=G.parse(e.stringQuery,{arrayFormat:"comma"});e.query={...m,...e.query}}if(e.mergeQuery){const m=e.clearMergeQueryKeys||[];for(const[h,g]of Object.entries(n.query))m.indexOf(h.split(".")[0])<0&&(i[h]=g);e.query||(e.query={})}a=e.query}const s=a||n.query;let l="";for(const[m,h]of Object.entries(s))Array.isArray(h)?i[m]=h:typeof h=="object"?Pa(i,m,h):i[m]=h;const p={...i,__execute_event__:r.id};for(const[m,h]of Object.entries(p))(h==null||h==="")&&delete p[m];l=G.stringify(i,{arrayFormat:"comma"}),l.length>0&&(l=`?${l}`);let d=n.url+l;return n.fragmentIdentifier&&(d=d+"#"+n.fragmentIdentifier),{pushStateArgs:[{query:i,url:d},"",d],eventURL:`${n.url}?${G.stringify(p,{arrayFormat:"comma"})}`}}function Pa(r,t,e){if(!e.value)return;let n=e.value;Array.isArray(e.value)||(n=[e.value]);let i=r[t];if(i&&!Array.isArray(i)&&(i=[i]),e.add){r[t]=Fa(i,n);return}if(e.remove){const a=Ea(i,...n);a.length===0?delete r[t]:r[t]=a}}function Y(r,t,e){if(!t||t.length===0)return!1;if(typeof e=="function")return Y(r,t,e());if(e instanceof Event)return Y(r,t,e.target);if(e instanceof HTMLInputElement){if(e.files)return Y(r,t,e.files);switch(e.type){case"checkbox":return e.checked?K(r,t,e.value):r.has(t)?(r.delete(t),!0):!1;case"radio":return e.checked?K(r,t,e.value):!1;default:return K(r,t,e.value)}}if(e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement)return K(r,t,e.value);if(e==null)return K(r,t,"");let n=!1;if(r.has(t)&&(n=!0,r.delete(t)),Array.isArray(e)||e instanceof FileList){for(let i=0;i<e.length;i++)e[i]instanceof File?(n=!0,r.append(t,e[i],e[i].name)):(n=!0,r.append(t,e[i]));return n}return e instanceof File?(r.set(t,e,e.name),!0):K(r,t,e)}function K(r,t,e){return r.get(t)===e?!1:(r.set(t,e),!0)}function Jn(r,t,e=""){if(r==null)return;const n=Array.isArray(r);if(n&&r.length>0&&(r[0]instanceof File||r[0]instanceof Blob)){Y(t,e,r);return}return Object.keys(r).forEach(i=>{if(i==="$parent")return;const a=r[i],s=e?n?`${e}[${i}]`:`${e}.${i}`:i;typeof a=="object"&&!(a instanceof File)&&!(a instanceof Date)?Jn(a,t,s):Y(t,s,a)}),t}class Da{constructor(){F(this,"_eventFuncID",{id:"__reload__"});F(this,"_url");F(this,"_method");F(this,"_vars");F(this,"_locals");F(this,"_closer");F(this,"_scope",{});F(this,"_loadPortalBody",!1);F(this,"_form",{});F(this,"_popstate");F(this,"_pushState");F(this,"_location");F(this,"_updateRootTemplate");F(this,"_buildPushStateResult");F(this,"_parents");F(this,"_preFetch",[]);F(this,"_noCache",!1);F(this,"ignoreErrors",["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"]);F(this,"isIgnoreError",t=>{var e;return t instanceof Error?(e=this.ignoreErrors)==null?void 0:e.includes(t.message):!1});F(this,"runScript",t=>{if(t.runScript){let e=t.runScript;this._scope&&(e=`with(this._scope) {
`+e+`
}`),new Function("vars","locals","form","closer","scope","plaid",e).apply(this,[this._vars,this._locals,this._form,this._closer,this._scope,()=>Gt().vars(this._vars).locals(this._locals).form(this._form).closer(this._closer).updateRootTemplate(this._updateRootTemplate)])}return t})}parseUrl(t){const e=G.parseUrl(t,{arrayFormat:"comma",parseFragmentIdentifier:!0});return this._url=e.url,this._location={},e.query.__execute_event__&&(this.eventFunc(e.query.__execute_event__),delete e.query.__execute_event__),Object.keys(e.query).forEach(n=>this.query(n,e.query[n])),this}eventFunc(t){return this._eventFuncID.id=t,this}updateRootTemplate(t){return this._updateRootTemplate=t,this}eventFuncID(t){return this._eventFuncID=t,this}reload(){return this._eventFuncID.id="__reload__",this}url(t){return this._url=t,this}vars(t){return this._vars=t,this}closer(t){return this._closer=t,this}loadPortalBody(t){return this._loadPortalBody=t,this}locals(t){return this._locals=t,this}query(t,e){return this._location||(this._location={}),this._location.query||(this._location.query={}),this._location.query[t]=e,this}mergeQuery(t){return this._location||(this._location={}),this._location.mergeQuery=t,this}clearMergeQuery(t){return this._location||(this._location={}),this._location.mergeQuery=!0,this._location.clearMergeQueryKeys=t,this}location(t){return this._location=t,this}stringQuery(t){return this._location||(this._location={}),this._location.stringQuery=t,this}pushState(t){return this._pushState=t,this}queries(t){return this._location||(this._location={}),this._location.query=t,this}pushStateURL(t){return this._location||(this._location={}),this._location.url=t,this.pushState(!0),this}form(t){return this._form=t,this}scope(t){return t&&(this._scope={...this._scope??{},...t}),this}fieldValue(t,e){if(!this._form)throw new Error("form not exist");return this._form[t]=e,this}popstate(t){return this._popstate=t,this}preFetch(t){return this._preFetch.push(t),this}run(t){return new Function(t).apply(this),this}method(t){return this._method=t,this}parent(t,e){return this._parents=this._parents||{},this._parents[t]=e,this}noCache(){return this._noCache=!0,this}buildFetchURL(){return this.ensurePushStateResult(),this._buildPushStateResult.eventURL}buildPushStateArgs(){return this.ensurePushStateResult(),this._buildPushStateResult.pushStateArgs}onpopstate(t){return t.state?this.popstate(!0).location(t.state).reload().go():Promise.reject("event state is undefined")}runPushState(){if(this._popstate!==!0&&this._pushState===!0){window.history.length<=2&&window.history.pushState({url:window.location.href},"",window.location.href);const t=this.buildPushStateArgs();t&&window.history.pushState(...t)}}async fetch(){this._eventFuncID.id=="__reload__"&&(this._buildPushStateResult=null);const t={method:"POST",redirect:"follow"};if(this._method&&(t.method=this._method),t.method==="POST"){const i=new FormData;Jn(this._form,i),t.body=i}window.dispatchEvent(new Event("fetchStart"));let e=this.buildFetchURL();if(this._preFetch.length){const i={builder:this,options:t,url:e};this._preFetch.forEach(a=>{a(i)}),e=i.url}let n={};try{const i=await fetch(e,t).catch(a=>{console.error(a),Promise.reject(a),this.isIgnoreError(a)||alert("Fetch Unknown Error: "+a)});if(!i)return n;if(!i.ok)return this._vars.presetsMessage={show:!0,message:`Server Response Error: <code>${i.status}</code> (${i.statusText}). See window console for detail.`,color:"error"},Promise.reject(new Error(`Response status: ${i.status} ${i.statusText}`)),n;if(i.redirected)return document.location.replace(i.url),n;n=await i.json()}finally{window.dispatchEvent(new Event("fetchEnd"))}return n}go(){return this.goPre(t=>null)}goPre(t){return t(this),this.runPushState(),this.fetch().then(this.runScript).then(e=>{if(e.pageTitle&&(document.title=e.pageTitle),e.redirectURL&&document.location.replace(e.redirectURL),e.reloadPortals&&e.reloadPortals.length>0)for(const n of e.reloadPortals){const i=window.__goplaid.portals[n];i&&i.reload()}if(e.updatePortals&&e.updatePortals.length>0)for(const n of e.updatePortals)if(window.__goplaid.portals[n.name]){const{updatePortalTemplate:i}=window.__goplaid.portals[n.name];i&&i(n.body,n.options)}else n.defer?setTimeout(i=>{if(window.__goplaid.portals[i.name]){const{updatePortalTemplate:a}=window.__goplaid.portals[i.name];a&&a(i.body,i.options)}else console.error("go-plaid-portal defered '"+i.name+"' does not exists.")},10,n):console.error("go-plaid-portal '"+n.name+"' does not exists.");return e.pushState?Gt().updateRootTemplate(this._updateRootTemplate).reload().pushState(!0).location(e.pushState).go():(this._loadPortalBody&&e.body||e.body&&this._updateRootTemplate(e.body),e)})}json(){return this.fetch().then(t=>t.data)}ensurePushStateResult(){if(!this._noCache&&this._buildPushStateResult)return;const t=window.location.href;let e=this._url;e&&this._parents&&Object.keys(this._parents).forEach(i=>{e=e.replace("{parent_"+i+"_id}",this._parents[i].toString())}),this._buildPushStateResult=xa({...this._eventFuncID,location:this._location},e||t)}}function Gt(){return new Da}const La={mounted:(r,t,e)=>{var d,v;let n=r;e.component&&(n=(v=(d=e.component)==null?void 0:d.proxy)==null?void 0:v.$el);const i=t.arg||"scroll",s=G.parse(location.hash)[i];let l="";Array.isArray(s)?l=s[0]||"":l=s||"";const p=l.split("_");p.length>=2&&(n.scrollTop=parseInt(p[0]),n.scrollLeft=parseInt(p[1])),n.addEventListener("scroll",qe(function(){const m=G.parse(location.hash);m[i]=n.scrollTop+"_"+n.scrollLeft,location.hash=G.stringify(m)},200))}},ka={mounted:(r,t)=>{const[e,n]=t.value;Object.assign(e,n)}},Ma=u.defineComponent({props:{initialTemplate:{type:String,required:!0}},setup(r,{emit:t,attrs:e,expose:n}){const i=u.shallowRef(null),a=u.reactive({});u.provide("form",a);const s=u.reactive({});u.provide("locals",s);const l=u.reactive({});u.provide("closer",l),u.reactive({}),u.provide("fullscreen",s);const p=u.reactive({__notification:{}});u.provide("vars",p);const d=()=>Gt().updateRootTemplate(m).vars(p);u.provide("plaid",d);const v=u.ref(!1);u.provide("isFetching",v);const m=h=>{i.value=Re(h,{form:a,locals:s})};return u.provide("updateRootTemplate",m),u.onMounted(()=>{m(r.initialTemplate),window.addEventListener("fetchStart",h=>{v.value=!0}),window.addEventListener("fetchEnd",h=>{v.value=!1}),window.addEventListener("popstate",h=>{h&&h.state!=null&&d().onpopstate(h)})}),{current:i}},template:`
      <div id="app" v-cloak>
        <component :is="current"></component>
      </div>
    `}),Ua={install(r){r.component("GoPlaidScope",fi),r.component("GoPlaidPortal",di),r.component("GoPlaidRunScript",pi),r.component("UserComponent",_i),r.directive("keep-scroll",La),r.directive("assign",ka),r.component("GlobalEvents",ei)}};function $a(r){const t=u.createApp(Ma,{initialTemplate:r}),e=u.ref(!1),n=i=>{window.navigator.clipboard.writeText(i),e.value=!0,window.setTimeout(()=>{e.value=!1},1e3)};return t.config.globalProperties.copyToClipboard=n,t.config.globalProperties.copiedToClipboard=e,t.config.globalProperties.presetsListing=null,t.config.globalProperties.presetsDetailing=null,t.config.globalProperties.presetsCreating=null,t.config.globalProperties.presetsEditing=null,t.use(Ua),t}const Wn=document.getElementById("app");if(!Wn)throw new Error("#app required");const Ha={},Yn=$a(Wn.innerHTML);for(const r of window.__goplaidVueComponentRegisters||[])r(Yn,Ha);Yn.mount("#app")});
