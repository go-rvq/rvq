var Na=Object.defineProperty;var Ba=(s,T,k)=>T in s?Na(s,T,{enumerable:!0,configurable:!0,writable:!0,value:k}):s[T]=k;var F=(s,T,k)=>Ba(s,typeof T!="symbol"?T+"":T,k);(function(s,T){typeof exports=="object"&&typeof module<"u"?T(require("vue")):typeof define=="function"&&define.amd?define(["vue"],T):(s=typeof globalThis<"u"?globalThis:s||self,T(s.Vue))})(this,function(s){"use strict";function T(r){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(r){for(const e in r)if(e!=="default"){const n=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,n.get?n:{enumerable:!0,get:()=>r[e]})}}return t.default=r,Object.freeze(t)}const k=T(s);/*!
 * vue-global-events v3.0.1
 * (c) 2019-2023 Eduardo San Martin Morote, Damian Dulisz
 * Released under the MIT License.
 */let ae;function Wn(){return ae??(ae=/msie|trident/.test(window.navigator.userAgent.toLowerCase()))}const Yn=/^on(\w+?)((?:Once|Capture|Passive)*)$/,Zn=/[OCP]/g;function Qn(r){return r?Wn()?r.includes("Capture"):r.replace(Zn,",$&").toLowerCase().slice(1).split(",").reduce((e,n)=>(e[n]=!0,e),{}):void 0}const Xn=s.defineComponent({name:"GlobalEvents",props:{target:{type:String,default:"document"},filter:{type:[Function,Array],default:()=>()=>!0},stop:Boolean,prevent:Boolean},setup(r,{attrs:t}){let e=Object.create(null);const n=s.ref(!0);return s.onActivated(()=>{n.value=!0}),s.onDeactivated(()=>{n.value=!1}),s.onMounted(()=>{Object.keys(t).filter(i=>i.startsWith("on")).forEach(i=>{const a=t[i],u=Array.isArray(a)?a:[a],l=i.match(Yn);if(!l){__DEV__&&console.warn(`[vue-global-events] Unable to parse "${i}". If this should work, you should probably open a new issue on https://github.com/shentao/vue-global-events.`);return}let[,p,d]=l;p=p.toLowerCase();const y=u.map(f=>m=>{const b=Array.isArray(r.filter)?r.filter:[r.filter];n.value&&b.every(w=>w(m,f,p))&&(r.stop&&m.stopPropagation(),r.prevent&&m.preventDefault(),f(m))}),g=Qn(d);y.forEach(f=>{window[r.target].addEventListener(p,f,g)}),e[i]=[y,p,g]})}),s.onBeforeUnmount(()=>{for(const i in e){const[a,u,l]=e[i];a.forEach(p=>{window[r.target].removeEventListener(u,p,l)})}e={}}),()=>null}});var K=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var se,Kt;function Q(){if(Kt)return se;Kt=1;function r(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}return se=r,se}var ue,Jt;function ei(){if(Jt)return ue;Jt=1;var r=typeof K=="object"&&K&&K.Object===Object&&K;return ue=r,ue}var ce,Wt;function J(){if(Wt)return ce;Wt=1;var r=ei(),t=typeof self=="object"&&self&&self.Object===Object&&self,e=r||t||Function("return this")();return ce=e,ce}var le,Yt;function ti(){if(Yt)return le;Yt=1;var r=J(),t=function(){return r.Date.now()};return le=t,le}var fe,Zt;function ri(){if(Zt)return fe;Zt=1;var r=/\s/;function t(e){for(var n=e.length;n--&&r.test(e.charAt(n)););return n}return fe=t,fe}var he,Qt;function ni(){if(Qt)return he;Qt=1;var r=ri(),t=/^\s+/;function e(n){return n&&n.slice(0,r(n)+1).replace(t,"")}return he=e,he}var de,Xt;function pe(){if(Xt)return de;Xt=1;var r=J(),t=r.Symbol;return de=t,de}var _e,er;function ii(){if(er)return _e;er=1;var r=pe(),t=Object.prototype,e=t.hasOwnProperty,n=t.toString,i=r?r.toStringTag:void 0;function a(u){var l=e.call(u,i),p=u[i];try{u[i]=void 0;var d=!0}catch{}var y=n.call(u);return d&&(l?u[i]=p:delete u[i]),y}return _e=a,_e}var ye,tr;function ai(){if(tr)return ye;tr=1;var r=Object.prototype,t=r.toString;function e(n){return t.call(n)}return ye=e,ye}var ge,rr;function me(){if(rr)return ge;rr=1;var r=pe(),t=ii(),e=ai(),n="[object Null]",i="[object Undefined]",a=r?r.toStringTag:void 0;function u(l){return l==null?l===void 0?i:n:a&&a in Object(l)?t(l):e(l)}return ge=u,ge}var ve,nr;function X(){if(nr)return ve;nr=1;function r(t){return t!=null&&typeof t=="object"}return ve=r,ve}var be,ir;function oi(){if(ir)return be;ir=1;var r=me(),t=X(),e="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&r(i)==e}return be=n,be}var we,ar;function si(){if(ar)return we;ar=1;var r=ni(),t=Q(),e=oi(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;function p(d){if(typeof d=="number")return d;if(e(d))return n;if(t(d)){var y=typeof d.valueOf=="function"?d.valueOf():d;d=t(y)?y+"":y}if(typeof d!="string")return d===0?d:+d;d=r(d);var g=a.test(d);return g||u.test(d)?l(d.slice(2),g?2:8):i.test(d)?n:+d}return we=p,we}var Se,or;function ui(){if(or)return Se;or=1;var r=Q(),t=ti(),e=si(),n="Expected a function",i=Math.max,a=Math.min;function u(l,p,d){var y,g,f,m,b,w,S=0,U=!1,q=!1,C=!0;if(typeof l!="function")throw new TypeError(n);p=e(p)||0,r(d)&&(U=!!d.leading,q="maxWait"in d,f=q?i(e(d.maxWait)||0,p):f,C="trailing"in d?!!d.trailing:C);function E(R){var x=y,z=g;return y=g=void 0,S=R,m=l.apply(z,x),m}function W(R){return S=R,b=setTimeout(H,p),U?E(R):m}function zt(R){var x=R-w,z=R-S,P=p-x;return q?a(P,f-z):P}function $(R){var x=R-w,z=R-S;return w===void 0||x>=p||x<0||q&&z>=f}function H(){var R=t();if($(R))return Y(R);b=setTimeout(H,zt(R))}function Y(R){return b=void 0,C&&y?E(R):(y=g=void 0,m)}function N(){b!==void 0&&clearTimeout(b),S=0,y=w=g=b=void 0}function I(){return b===void 0?m:Y(t())}function Z(){var R=t(),x=$(R);if(y=arguments,g=this,w=R,x){if(b===void 0)return W(w);if(q)return clearTimeout(b),b=setTimeout(H,p),E(w)}return b===void 0&&(b=setTimeout(H,p)),m}return Z.cancel=N,Z.flush=I,Z}return Se=u,Se}var ci=ui();const qe=oe(ci),li=s.defineComponent({__name:"go-plaid-scope",props:{scopeName:{},locals:{},form:{},closer:{},fullscreen:{},setup:{},useDebounce:{},observers:{}},emits:["change-debounced"],setup(r,{emit:t}){const e=r,n=t;let i=s.inject("locals",{});if(e.locals!==void 0){let f={$parent:i};s.isProxy(e.locals)?f=e.locals:Array.isArray(e.locals)?f=s.reactive(Object.assign(f,...e.locals)):f=s.reactive({...f,...e.locals}),i=f,s.provide("locals",i)}let a=s.inject("form");if(e.form!==void 0){let f={$parent:a};s.isProxy(e.form)?f=e.form:Array.isArray(e.form)?f=s.reactive(Object.assign(f,...e.form)):f=s.reactive({...f,...e.form}),a=f,s.provide("form",a)}let u=s.inject("closer",{});const l=(f,m)=>f;if(e.closer!==void 0){let f={$parent:u,show:!1};s.isProxy(e.closer)?f=e.closer:Array.isArray(e.closer)?f=s.reactive(l(Object.assign(f,...e.closer))):f=s.reactive(l({...f,...e.closer})),u=f,s.provide("closer",u)}let p=s.inject("fullscreen",{});if(e.fullscreen!==void 0){let f={$parent:p,active:!1};s.isProxy(e.fullscreen)?f=e.fullscreen:Array.isArray(e.fullscreen)?f=s.reactive(Object.assign(f,...e.fullscreen)):f=s.reactive({...f,...e.fullscreen}),p=f,s.provide("fullscreen",p)}const d=s.inject("vars"),y=s.inject("plaid");Array.isArray(e.setup)&&new Function("vars","locals","form","plaid","closer","fullscreen",e.setup[0])(d,i,a,y,u,p);function g(){!e.observers||e.observers.length==0||s.watch(()=>d==null?void 0:d.__notification,f=>{var m;f&&((m=e.observers)==null||m.forEach(b=>{if((f==null?void 0:f.name)===b.name){let w;try{w=typeof f.payload=="string"?JSON.parse(f.payload):f.payload}catch{w=f.payload}try{new Function("name","payload","vars","locals","form","plaid","closer","fullscreen",b.script)(b.name,w,d,i,a,y,u,p)}catch(S){console.error("Error executing observer script:",S)}}}))})}return s.onMounted(()=>{setTimeout(()=>{if(e.useDebounce){const f=e.useDebounce,m=qe(b=>{n("change-debounced",b)},f);s.watch(i,(b,w)=>{m({locals:b,form:a,oldLocals:w,oldForm:a})})}},0),g()}),(f,m)=>s.renderSlot(f.$slots,"default",{locals:s.unref(i),form:s.unref(a),plaid:s.unref(y),vars:s.unref(d),closer:s.unref(u),setup:f.setup,fullscreen:s.unref(p)})}});function Re(r,t={},e=s.ref()){return s.defineComponent({setup(){const n=s.inject("plaid"),i=s.inject("vars"),a=s.inject("closer"),u=s.inject("fullscreen"),l=s.inject("isFetching"),p=s.inject("updateRootTemplate"),d={plaid:n,vars:i,closer:a,fullscreen:u,isFetching:l,updateRootTemplate:p,...t};return d.Vue=k,d.window=window,d.SCOPE=d,s.reactive(d)},mounted(){this.$nextTick(()=>{this.$el&&this.$el.style&&this.$el.style.height&&(e.value.style.height=this.$el.style.height)})},template:r})}const fi=["id"],hi=s.defineComponent({__name:"go-plaid-portal",props:{loader:{},content:{},visible:{type:Boolean},afterLoaded:{type:Function},portalName:{},form:{},locals:{},methods:{},data:{},autoReloadInterval:{},raw:{type:Boolean},scope:{}},setup(r){window.__goplaid=window.__goplaid??{},window.__goplaid.portals=window.__goplaid.portals??{},window.__goplaid.index=window.__goplaid.index??0;const t=s.ref(),e=r,n=s.shallowRef(null),i=s.ref(0),a=s.useSlots(),u=e.portalName||"anonymous$"+window.__goplaid.index++;let l=s.inject("locals",{});e.locals!==void 0&&(s.isProxy(e.locals)||(l=s.reactive({$parent:l,...e.locals}))),s.provide("locals",l);let p=s.inject("form",{});e.form!==void 0&&(s.isProxy(e.form)||(p=s.reactive({$parent:p,...e.form}))),s.provide("form",p);const d={form:p,locals:l,...e.scope??{}},y=f=>{n.value=Re(f,d,t)},g=()=>{if(a.default){n.value=Re('<slot v-bind="SCOPE"></slot>',d,t);return}const f=e.content;if(f){y(f);return}const m=e.loader;m&&m.loadPortalBody(!0).go().then(b=>{y(b.body)})};return s.onMounted(()=>{window.__goplaid.portals[u]={portalName:u,updatePortalTemplate:y,reload:g},g()}),s.onUpdated(()=>{if(e.autoReloadInterval&&i.value==0){const f=parseInt(e.autoReloadInterval+"");if(f==0)return;i.value=setInterval(()=>{g()},f)}i.value&&i.value>0&&e.autoReloadInterval==0&&(clearInterval(i.value),i.value=0)}),s.onBeforeUnmount(()=>{delete window.__goplaid.portals[u],i.value&&i.value>0&&clearInterval(i.value)}),(f,m)=>f.raw?(s.openBlock(),s.createElementBlock(s.Fragment,{key:0},[n.value?(s.openBlock(),s.createBlock(s.resolveDynamicComponent(n.value),{key:0},{default:s.withCtx(()=>[s.renderSlot(f.$slots,"default",s.mergeProps({form:s.unref(p),locals:s.unref(l)},d))]),_:3})):s.createCommentVNode("",!0)],64)):(s.openBlock(),s.createElementBlock(s.Fragment,{key:1},[f.visible?(s.openBlock(),s.createElementBlock("div",{key:0,class:"go-plaid-portal",id:f.portalName&&"portal--"+f.portalName,ref_key:"portal",ref:t},[n.value?(s.openBlock(),s.createBlock(s.resolveDynamicComponent(n.value),{key:0},{default:s.withCtx(()=>[s.renderSlot(f.$slots,"default",s.mergeProps({form:s.unref(p),locals:s.unref(l)},d))]),_:3})):s.createCommentVNode("",!0)],8,fi)):s.createCommentVNode("",!0)],64))}}),di=s.defineComponent({__name:"go-plaid-run-script",props:{script:{type:Function,required:!0},setup:{type:Function},beforeUnmount:{type:Function},unmounted:{type:Function}},setup(r){const t=r,e={...k,view:window};return t.setup&&t.setup(e),s.onMounted(()=>{t.script(k)}),s.onBeforeUnmount(()=>{t.beforeUnmount&&t.beforeUnmount(e)}),s.onUnmounted(()=>{t.unmounted&&t.unmounted(e)}),()=>{}}}),pi=s.defineComponent({__name:"user-component",props:{scope:{type:Object,default:()=>{}},assign:{type:Array,default:()=>[]},setup:{type:Array,default:[]}},emits:["mounted","beforeUnmount"],setup(r,{emit:t}){const e=r;e.assign.forEach(u=>{Object.assign(u[0],u[1])});const n=t;let i=s.ref({});e.scope&&(i=s.ref(e.scope));const a={watch:s.watch,isProxy:s.isProxy,isReactive:s.isReactive,isRef:s.isRef,ref:s.ref,reactive:s.reactive,debounce:qe,computed:s.computed,inject:s.inject,provide:s.provide,shallowRef:s.shallowRef,scope:e.scope,$scope:i,window,Vue:k};if(e.setup){const u=l=>{l({...a,func:()=>u(l)})};e.setup.forEach(u)}return s.onMounted(()=>{n("mounted",a)}),s.onBeforeUnmount(()=>{n("beforeUnmount",a)}),(u,l)=>e.scope?s.renderSlot(u.$slots,"default",s.normalizeProps(s.mergeProps({key:0},s.unref(i)))):s.renderSlot(u.$slots,"default",{key:1})}});var sr={};/*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */var ur;function _i(){return ur||(ur=1,function(){var r;function t(o){var c=0;return function(){return c<o.length?{done:!1,value:o[c++]}:{done:!0}}}var e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,h){return o==Array.prototype||o==Object.prototype||(o[c]=h.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof K=="object"&&K];for(var c=0;c<o.length;++c){var h=o[c];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var i=n(this);function a(o,c){if(c)e:{var h=i;o=o.split(".");for(var _=0;_<o.length-1;_++){var v=o[_];if(!(v in h))break e;h=h[v]}o=o[o.length-1],_=h[o],c=c(_),c!=_&&c!=null&&e(h,o,{configurable:!0,writable:!0,value:c})}}a("Symbol",function(o){function c(j){if(this instanceof c)throw new TypeError("Symbol is not a constructor");return new h(_+(j||"")+"_"+v++,j)}function h(j,A){this.A=j,e(this,"description",{configurable:!0,writable:!0,value:A})}if(o)return o;h.prototype.toString=function(){return this.A};var _="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",v=0;return c}),a("Symbol.iterator",function(o){if(o)return o;o=Symbol("Symbol.iterator");for(var c="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),h=0;h<c.length;h++){var _=i[c[h]];typeof _=="function"&&typeof _.prototype[o]!="function"&&e(_.prototype,o,{configurable:!0,writable:!0,value:function(){return u(t(this))}})}return o});function u(o){return o={next:o},o[Symbol.iterator]=function(){return this},o}function l(o){var c=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return c?c.call(o):{next:t(o)}}var p;if(typeof Object.setPrototypeOf=="function")p=Object.setPrototypeOf;else{var d;e:{var y={a:!0},g={};try{g.__proto__=y,d=g.a;break e}catch{}d=!1}p=d?function(o,c){if(o.__proto__=c,o.__proto__!==c)throw new TypeError(o+" is not extensible");return o}:null}var f=p;function m(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function b(o){if(o.m)throw new TypeError("Generator is already running");o.m=!0}m.prototype.o=function(o){this.v=o},m.prototype.s=function(o){this.l={D:o,F:!0},this.h=this.C||this.u},m.prototype.return=function(o){this.l={return:o},this.h=this.u};function w(o,c){return o.h=3,{value:c}}function S(o){this.g=new m,this.G=o}S.prototype.o=function(o){return b(this.g),this.g.j?q(this,this.g.j.next,o,this.g.o):(this.g.o(o),C(this))};function U(o,c){b(o.g);var h=o.g.j;return h?q(o,"return"in h?h.return:function(_){return{value:_,done:!0}},c,o.g.return):(o.g.return(c),C(o))}S.prototype.s=function(o){return b(this.g),this.g.j?q(this,this.g.j.throw,o,this.g.o):(this.g.s(o),C(this))};function q(o,c,h,_){try{var v=c.call(o.g.j,h);if(!(v instanceof Object))throw new TypeError("Iterator result "+v+" is not an object");if(!v.done)return o.g.m=!1,v;var j=v.value}catch(A){return o.g.j=null,o.g.s(A),C(o)}return o.g.j=null,_.call(o.g,j),C(o)}function C(o){for(;o.g.h;)try{var c=o.G(o.g);if(c)return o.g.m=!1,{value:c.value,done:!1}}catch(h){o.g.v=void 0,o.g.s(h)}if(o.g.m=!1,o.g.l){if(c=o.g.l,o.g.l=null,c.F)throw c.D;return{value:c.return,done:!0}}return{value:void 0,done:!0}}function E(o){this.next=function(c){return o.o(c)},this.throw=function(c){return o.s(c)},this.return=function(c){return U(o,c)},this[Symbol.iterator]=function(){return this}}function W(o,c){return c=new E(new S(c)),f&&o.prototype&&f(c,o.prototype),c}function zt(o,c){o instanceof String&&(o+="");var h=0,_=!1,v={next:function(){if(!_&&h<o.length){var j=h++;return{value:c(j,o[j]),done:!1}}return _=!0,{done:!0,value:void 0}}};return v[Symbol.iterator]=function(){return v},v}if(a("Array.prototype.entries",function(o){return o||function(){return zt(this,function(c,h){return[c,h]})}}),typeof Blob<"u"&&(typeof FormData>"u"||!FormData.prototype.keys)){var $=function(o,c){for(var h=0;h<o.length;h++)c(o[h])},H=function(o){return o.replace(/\r?\n|\r/g,`\r
`)},Y=function(o,c,h){return c instanceof Blob?(h=h!==void 0?h+"":typeof c.name=="string"?c.name:"blob",(c.name!==h||Object.prototype.toString.call(c)==="[object Blob]")&&(c=new File([c],h)),[String(o),c]):[String(o),String(c)]},N=function(o,c){if(o.length<c)throw new TypeError(c+" argument required, but only "+o.length+" present.")},I=typeof globalThis=="object"?globalThis:typeof window=="object"?window:typeof self=="object"?self:this,Z=I.FormData,R=I.XMLHttpRequest&&I.XMLHttpRequest.prototype.send,x=I.Request&&I.fetch,z=I.navigator&&I.navigator.sendBeacon,P=I.Element&&I.Element.prototype,B=I.Symbol&&Symbol.toStringTag;B&&(Blob.prototype[B]||(Blob.prototype[B]="Blob"),"File"in I&&!File.prototype[B]&&(File.prototype[B]="File"));try{new File([],"")}catch{I.File=function(c,h,_){return c=new Blob(c,_||{}),Object.defineProperties(c,{name:{value:h},lastModified:{value:+(_&&_.lastModified!==void 0?new Date(_.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),B&&Object.defineProperty(c,B,{value:"File"}),c}}var Vt=function(o){return o.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},L=function(o){this.i=[];var c=this;o&&$(o.elements,function(h){if(h.name&&!h.disabled&&h.type!=="submit"&&h.type!=="button"&&!h.matches("form fieldset[disabled] *"))if(h.type==="file"){var _=h.files&&h.files.length?h.files:[new File([],"",{type:"application/octet-stream"})];$(_,function(v){c.append(h.name,v)})}else h.type==="select-multiple"||h.type==="select-one"?$(h.options,function(v){!v.disabled&&v.selected&&c.append(h.name,v.value)}):h.type==="checkbox"||h.type==="radio"?h.checked&&c.append(h.name,h.value):(_=h.type==="textarea"?H(h.value):h.value,c.append(h.name,_))})};if(r=L.prototype,r.append=function(o,c,h){N(arguments,2),this.i.push(Y(o,c,h))},r.delete=function(o){N(arguments,1);var c=[];o=String(o),$(this.i,function(h){h[0]!==o&&c.push(h)}),this.i=c},r.entries=function o(){var c,h=this;return W(o,function(_){if(_.h==1&&(c=0),_.h!=3)return c<h.i.length?_=w(_,h.i[c]):(_.h=0,_=void 0),_;c++,_.h=2})},r.forEach=function(o,c){N(arguments,1);for(var h=l(this),_=h.next();!_.done;_=h.next()){var v=l(_.value);_=v.next().value,v=v.next().value,o.call(c,v,_,this)}},r.get=function(o){N(arguments,1);var c=this.i;o=String(o);for(var h=0;h<c.length;h++)if(c[h][0]===o)return c[h][1];return null},r.getAll=function(o){N(arguments,1);var c=[];return o=String(o),$(this.i,function(h){h[0]===o&&c.push(h[1])}),c},r.has=function(o){N(arguments,1),o=String(o);for(var c=0;c<this.i.length;c++)if(this.i[c][0]===o)return!0;return!1},r.keys=function o(){var c=this,h,_,v,j,A;return W(o,function(D){if(D.h==1&&(h=l(c),_=h.next()),D.h!=3){if(_.done){D.h=0;return}return v=_.value,j=l(v),A=j.next().value,w(D,A)}_=h.next(),D.h=2})},r.set=function(o,c,h){N(arguments,2),o=String(o);var _=[],v=Y(o,c,h),j=!0;$(this.i,function(A){A[0]===o?j&&(j=!_.push(v)):_.push(A)}),j&&_.push(v),this.i=_},r.values=function o(){var c=this,h,_,v,j,A;return W(o,function(D){if(D.h==1&&(h=l(c),_=h.next()),D.h!=3){if(_.done){D.h=0;return}return v=_.value,j=l(v),j.next(),A=j.next().value,w(D,A)}_=h.next(),D.h=2})},L.prototype._asNative=function(){for(var o=new Z,c=l(this),h=c.next();!h.done;h=c.next()){var _=l(h.value);h=_.next().value,_=_.next().value,o.append(h,_)}return o},L.prototype._blob=function(){var o="----formdata-polyfill-"+Math.random(),c=[],h="--"+o+`\r
Content-Disposition: form-data; name="`;return this.forEach(function(_,v){return typeof _=="string"?c.push(h+Vt(H(v))+(`"\r
\r
`+H(_)+`\r
`)):c.push(h+Vt(H(v))+('"; filename="'+Vt(_.name)+`"\r
Content-Type: `+(_.type||"application/octet-stream")+`\r
\r
`),_,`\r
`)}),c.push("--"+o+"--"),new Blob(c,{type:"multipart/form-data; boundary="+o})},L.prototype[Symbol.iterator]=function(){return this.entries()},L.prototype.toString=function(){return"[object FormData]"},P&&!P.matches&&(P.matches=P.matchesSelector||P.mozMatchesSelector||P.msMatchesSelector||P.oMatchesSelector||P.webkitMatchesSelector||function(o){o=(this.document||this.ownerDocument).querySelectorAll(o);for(var c=o.length;0<=--c&&o.item(c)!==this;);return-1<c}),B&&(L.prototype[B]="FormData"),R){var Ha=I.XMLHttpRequest.prototype.setRequestHeader;I.XMLHttpRequest.prototype.setRequestHeader=function(o,c){Ha.call(this,o,c),o.toLowerCase()==="content-type"&&(this.B=!0)},I.XMLHttpRequest.prototype.send=function(o){o instanceof L?(o=o._blob(),this.B||this.setRequestHeader("Content-Type",o.type),R.call(this,o)):R.call(this,o)}}x&&(I.fetch=function(o,c){return c&&c.body&&c.body instanceof L&&(c.body=c.body._blob()),x.call(this,o,c)}),z&&(I.navigator.sendBeacon=function(o,c){return c instanceof L&&(c=c._asNative()),z.call(this,o,c)}),I.FormData=L}}()),sr}_i();const cr="%[a-f0-9]{2}",lr=new RegExp("("+cr+")|([^%]+?)","gi"),fr=new RegExp("("+cr+")+","gi");function Ce(r,t){try{return[decodeURIComponent(r.join(""))]}catch{}if(r.length===1)return r;t=t||1;const e=r.slice(0,t),n=r.slice(t);return Array.prototype.concat.call([],Ce(e),Ce(n))}function yi(r){try{return decodeURIComponent(r)}catch{let t=r.match(lr)||[];for(let e=1;e<t.length;e++)r=Ce(t,e).join(""),t=r.match(lr)||[];return r}}function gi(r){const t={"%FE%FF":"��","%FF%FE":"��"};let e=fr.exec(r);for(;e;){try{t[e[0]]=decodeURIComponent(e[0])}catch{const i=yi(e[0]);i!==e[0]&&(t[e[0]]=i)}e=fr.exec(r)}t["%C2"]="�";const n=Object.keys(t);for(const i of n)r=r.replace(new RegExp(i,"g"),t[i]);return r}function mi(r){if(typeof r!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return decodeURIComponent(r)}catch{return gi(r)}}function hr(r,t){if(!(typeof r=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(r===""||t==="")return[];const e=r.indexOf(t);return e===-1?[]:[r.slice(0,e),r.slice(e+t.length)]}function vi(r,t){const e={};if(Array.isArray(t))for(const n of t){const i=Object.getOwnPropertyDescriptor(r,n);i!=null&&i.enumerable&&Object.defineProperty(e,n,i)}else for(const n of Reflect.ownKeys(r)){const i=Object.getOwnPropertyDescriptor(r,n);if(i.enumerable){const a=r[n];t(n,a,r)&&Object.defineProperty(e,n,i)}}return e}const bi=r=>r==null,wi=r=>encodeURIComponent(r).replaceAll(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Fe=Symbol("encodeFragmentIdentifier");function Si(r){switch(r.arrayFormat){case"index":return t=>(e,n)=>{const i=e.length;return n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?e:n===null?[...e,[O(t,r),"[",i,"]"].join("")]:[...e,[O(t,r),"[",O(i,r),"]=",O(n,r)].join("")]};case"bracket":return t=>(e,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?e:n===null?[...e,[O(t,r),"[]"].join("")]:[...e,[O(t,r),"[]=",O(n,r)].join("")];case"colon-list-separator":return t=>(e,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?e:n===null?[...e,[O(t,r),":list="].join("")]:[...e,[O(t,r),":list=",O(n,r)].join("")];case"comma":case"separator":case"bracket-separator":{const t=r.arrayFormat==="bracket-separator"?"[]=":"=";return e=>(n,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[O(e,r),t,O(i,r)].join("")]:[[n,O(i,r)].join(r.arrayFormatSeparator)])}default:return t=>(e,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?e:n===null?[...e,O(t,r)]:[...e,[O(t,r),"=",O(n,r)].join("")]}}function qi(r){let t;switch(r.arrayFormat){case"index":return(e,n,i)=>{if(t=/\[(\d*)]$/.exec(e),e=e.replace(/\[\d*]$/,""),!t){i[e]=n;return}i[e]===void 0&&(i[e]={}),i[e][t[1]]=n};case"bracket":return(e,n,i)=>{if(t=/(\[])$/.exec(e),e=e.replace(/\[]$/,""),!t){i[e]=n;return}if(i[e]===void 0){i[e]=[n];return}i[e]=[...i[e],n]};case"colon-list-separator":return(e,n,i)=>{if(t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!t){i[e]=n;return}if(i[e]===void 0){i[e]=[n];return}i[e]=[...i[e],n]};case"comma":case"separator":return(e,n,i)=>{const a=typeof n=="string"&&n.includes(r.arrayFormatSeparator),u=typeof n=="string"&&!a&&M(n,r).includes(r.arrayFormatSeparator);n=u?M(n,r):n;const l=a||u?n.split(r.arrayFormatSeparator).map(p=>M(p,r)):n===null?n:M(n,r);i[e]=l};case"bracket-separator":return(e,n,i)=>{const a=/(\[])$/.test(e);if(e=e.replace(/\[]$/,""),!a){i[e]=n&&M(n,r);return}const u=n===null?[]:n.split(r.arrayFormatSeparator).map(l=>M(l,r));if(i[e]===void 0){i[e]=u;return}i[e]=[...i[e],...u]};default:return(e,n,i)=>{if(i[e]===void 0){i[e]=n;return}i[e]=[...[i[e]].flat(),n]}}}function dr(r){if(typeof r!="string"||r.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function O(r,t){return t.encode?t.strict?wi(r):encodeURIComponent(r):r}function M(r,t){return t.decode?mi(r):r}function pr(r){return Array.isArray(r)?r.sort():typeof r=="object"?pr(Object.keys(r)).sort((t,e)=>Number(t)-Number(e)).map(t=>r[t]):r}function _r(r){const t=r.indexOf("#");return t!==-1&&(r=r.slice(0,t)),r}function Ri(r){let t="";const e=r.indexOf("#");return e!==-1&&(t=r.slice(e)),t}function yr(r,t){return t.parseNumbers&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?r=Number(r):t.parseBooleans&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")&&(r=r.toLowerCase()==="true"),r}function Oe(r){r=_r(r);const t=r.indexOf("?");return t===-1?"":r.slice(t+1)}function Ie(r,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...t},dr(t.arrayFormatSeparator);const e=qi(t),n=Object.create(null);if(typeof r!="string"||(r=r.trim().replace(/^[?#&]/,""),!r))return n;for(const i of r.split("&")){if(i==="")continue;const a=t.decode?i.replaceAll("+"," "):i;let[u,l]=hr(a,"=");u===void 0&&(u=a),l=l===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?l:M(l,t),e(M(u,t),l,n)}for(const[i,a]of Object.entries(n))if(typeof a=="object"&&a!==null)for(const[u,l]of Object.entries(a))a[u]=yr(l,t);else n[i]=yr(a,t);return t.sort===!1?n:(t.sort===!0?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((i,a)=>{const u=n[a];return i[a]=u&&typeof u=="object"&&!Array.isArray(u)?pr(u):u,i},Object.create(null))}function gr(r,t){if(!r)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},dr(t.arrayFormatSeparator);const e=u=>t.skipNull&&bi(r[u])||t.skipEmptyString&&r[u]==="",n=Si(t),i={};for(const[u,l]of Object.entries(r))e(u)||(i[u]=l);const a=Object.keys(i);return t.sort!==!1&&a.sort(t.sort),a.map(u=>{const l=r[u];return l===void 0?"":l===null?O(u,t):Array.isArray(l)?l.length===0&&t.arrayFormat==="bracket-separator"?O(u,t)+"[]":l.reduce(n(u),[]).join("&"):O(u,t)+"="+O(l,t)}).filter(u=>u.length>0).join("&")}function mr(r,t){var i;t={decode:!0,...t};let[e,n]=hr(r,"#");return e===void 0&&(e=r),{url:((i=e==null?void 0:e.split("?"))==null?void 0:i[0])??"",query:Ie(Oe(r),t),...t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:M(n,t)}:{}}}function vr(r,t){t={encode:!0,strict:!0,[Fe]:!0,...t};const e=_r(r.url).split("?")[0]||"",n=Oe(r.url),i={...Ie(n,{sort:!1}),...r.query};let a=gr(i,t);a&&(a=`?${a}`);let u=Ri(r.url);if(typeof r.fragmentIdentifier=="string"){const l=new URL(e);l.hash=r.fragmentIdentifier,u=t[Fe]?l.hash:`#${r.fragmentIdentifier}`}return`${e}${a}${u}`}function br(r,t,e){e={parseFragmentIdentifier:!0,[Fe]:!1,...e};const{url:n,query:i,fragmentIdentifier:a}=mr(r,e);return vr({url:n,query:vi(i,t),fragmentIdentifier:a},e)}function Ci(r,t,e){const n=Array.isArray(t)?i=>!t.includes(i):(i,a)=>!t(i,a);return br(r,n,e)}const G=Object.freeze(Object.defineProperty({__proto__:null,exclude:Ci,extract:Oe,parse:Ie,parseUrl:mr,pick:br,stringify:gr,stringifyUrl:vr},Symbol.toStringTag,{value:"Module"}));var je,wr;function Fi(){if(wr)return je;wr=1;function r(t,e){for(var n=-1,i=e.length,a=t.length;++n<i;)t[a+n]=e[n];return t}return je=r,je}var Te,Sr;function Oi(){if(Sr)return Te;Sr=1;var r=me(),t=X(),e="[object Arguments]";function n(i){return t(i)&&r(i)==e}return Te=n,Te}var Ae,qr;function Ii(){if(qr)return Ae;qr=1;var r=Oi(),t=X(),e=Object.prototype,n=e.hasOwnProperty,i=e.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(u){return t(u)&&n.call(u,"callee")&&!i.call(u,"callee")};return Ae=a,Ae}var Ee,Rr;function ji(){if(Rr)return Ee;Rr=1;var r=Array.isArray;return Ee=r,Ee}var xe,Cr;function Ti(){if(Cr)return xe;Cr=1;var r=pe(),t=Ii(),e=ji(),n=r?r.isConcatSpreadable:void 0;function i(a){return e(a)||t(a)||!!(n&&a&&a[n])}return xe=i,xe}var Pe,Fr;function Ai(){if(Fr)return Pe;Fr=1;var r=Fi(),t=Ti();function e(n,i,a,u,l){var p=-1,d=n.length;for(a||(a=t),l||(l=[]);++p<d;){var y=n[p];i>0&&a(y)?i>1?e(y,i-1,a,u,l):r(l,y):u||(l[l.length]=y)}return l}return Pe=e,Pe}var De,Or;function Ir(){if(Or)return De;Or=1;function r(t){return t}return De=r,De}var Le,jr;function Ei(){if(jr)return Le;jr=1;function r(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}return Le=r,Le}var ke,Tr;function xi(){if(Tr)return ke;Tr=1;var r=Ei(),t=Math.max;function e(n,i,a){return i=t(i===void 0?n.length-1:i,0),function(){for(var u=arguments,l=-1,p=t(u.length-i,0),d=Array(p);++l<p;)d[l]=u[i+l];l=-1;for(var y=Array(i+1);++l<i;)y[l]=u[l];return y[i]=a(d),r(n,this,y)}}return ke=e,ke}var Me,Ar;function Pi(){if(Ar)return Me;Ar=1;function r(t){return function(){return t}}return Me=r,Me}var Ue,Er;function xr(){if(Er)return Ue;Er=1;var r=me(),t=Q(),e="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function u(l){if(!t(l))return!1;var p=r(l);return p==n||p==i||p==e||p==a}return Ue=u,Ue}var $e,Pr;function Di(){if(Pr)return $e;Pr=1;var r=J(),t=r["__core-js_shared__"];return $e=t,$e}var He,Dr;function Li(){if(Dr)return He;Dr=1;var r=Di(),t=function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function e(n){return!!t&&t in n}return He=e,He}var Ne,Lr;function ki(){if(Lr)return Ne;Lr=1;var r=Function.prototype,t=r.toString;function e(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Ne=e,Ne}var Be,kr;function Mi(){if(kr)return Be;kr=1;var r=xr(),t=Li(),e=Q(),n=ki(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,p=u.toString,d=l.hasOwnProperty,y=RegExp("^"+p.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(f){if(!e(f)||t(f))return!1;var m=r(f)?y:a;return m.test(n(f))}return Be=g,Be}var Ge,Mr;function Ui(){if(Mr)return Ge;Mr=1;function r(t,e){return t==null?void 0:t[e]}return Ge=r,Ge}var ze,Ur;function ee(){if(Ur)return ze;Ur=1;var r=Mi(),t=Ui();function e(n,i){var a=t(n,i);return r(a)?a:void 0}return ze=e,ze}var Ve,$r;function $i(){if($r)return Ve;$r=1;var r=ee(),t=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch{}}();return Ve=t,Ve}var Ke,Hr;function Hi(){if(Hr)return Ke;Hr=1;var r=Pi(),t=$i(),e=Ir(),n=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:r(a),writable:!0})}:e;return Ke=n,Ke}var Je,Nr;function Ni(){if(Nr)return Je;Nr=1;var r=800,t=16,e=Date.now;function n(i){var a=0,u=0;return function(){var l=e(),p=t-(l-u);if(u=l,p>0){if(++a>=r)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Je=n,Je}var We,Br;function Bi(){if(Br)return We;Br=1;var r=Hi(),t=Ni(),e=t(r);return We=e,We}var Ye,Gr;function zr(){if(Gr)return Ye;Gr=1;var r=Ir(),t=xi(),e=Bi();function n(i,a){return e(t(i,a,r),i+"")}return Ye=n,Ye}var Ze,Vr;function te(){if(Vr)return Ze;Vr=1;var r=ee(),t=r(Object,"create");return Ze=t,Ze}var Qe,Kr;function Gi(){if(Kr)return Qe;Kr=1;var r=te();function t(){this.__data__=r?r(null):{},this.size=0}return Qe=t,Qe}var Xe,Jr;function zi(){if(Jr)return Xe;Jr=1;function r(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}return Xe=r,Xe}var et,Wr;function Vi(){if(Wr)return et;Wr=1;var r=te(),t="__lodash_hash_undefined__",e=Object.prototype,n=e.hasOwnProperty;function i(a){var u=this.__data__;if(r){var l=u[a];return l===t?void 0:l}return n.call(u,a)?u[a]:void 0}return et=i,et}var tt,Yr;function Ki(){if(Yr)return tt;Yr=1;var r=te(),t=Object.prototype,e=t.hasOwnProperty;function n(i){var a=this.__data__;return r?a[i]!==void 0:e.call(a,i)}return tt=n,tt}var rt,Zr;function Ji(){if(Zr)return rt;Zr=1;var r=te(),t="__lodash_hash_undefined__";function e(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=r&&i===void 0?t:i,this}return rt=e,rt}var nt,Qr;function Wi(){if(Qr)return nt;Qr=1;var r=Gi(),t=zi(),e=Vi(),n=Ki(),i=Ji();function a(u){var l=-1,p=u==null?0:u.length;for(this.clear();++l<p;){var d=u[l];this.set(d[0],d[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=n,a.prototype.set=i,nt=a,nt}var it,Xr;function Yi(){if(Xr)return it;Xr=1;function r(){this.__data__=[],this.size=0}return it=r,it}var at,en;function Zi(){if(en)return at;en=1;function r(t,e){return t===e||t!==t&&e!==e}return at=r,at}var ot,tn;function re(){if(tn)return ot;tn=1;var r=Zi();function t(e,n){for(var i=e.length;i--;)if(r(e[i][0],n))return i;return-1}return ot=t,ot}var st,rn;function Qi(){if(rn)return st;rn=1;var r=re(),t=Array.prototype,e=t.splice;function n(i){var a=this.__data__,u=r(a,i);if(u<0)return!1;var l=a.length-1;return u==l?a.pop():e.call(a,u,1),--this.size,!0}return st=n,st}var ut,nn;function Xi(){if(nn)return ut;nn=1;var r=re();function t(e){var n=this.__data__,i=r(n,e);return i<0?void 0:n[i][1]}return ut=t,ut}var ct,an;function ea(){if(an)return ct;an=1;var r=re();function t(e){return r(this.__data__,e)>-1}return ct=t,ct}var lt,on;function ta(){if(on)return lt;on=1;var r=re();function t(e,n){var i=this.__data__,a=r(i,e);return a<0?(++this.size,i.push([e,n])):i[a][1]=n,this}return lt=t,lt}var ft,sn;function ra(){if(sn)return ft;sn=1;var r=Yi(),t=Qi(),e=Xi(),n=ea(),i=ta();function a(u){var l=-1,p=u==null?0:u.length;for(this.clear();++l<p;){var d=u[l];this.set(d[0],d[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=n,a.prototype.set=i,ft=a,ft}var ht,un;function na(){if(un)return ht;un=1;var r=ee(),t=J(),e=r(t,"Map");return ht=e,ht}var dt,cn;function ia(){if(cn)return dt;cn=1;var r=Wi(),t=ra(),e=na();function n(){this.size=0,this.__data__={hash:new r,map:new(e||t),string:new r}}return dt=n,dt}var pt,ln;function aa(){if(ln)return pt;ln=1;function r(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}return pt=r,pt}var _t,fn;function ne(){if(fn)return _t;fn=1;var r=aa();function t(e,n){var i=e.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return _t=t,_t}var yt,hn;function oa(){if(hn)return yt;hn=1;var r=ne();function t(e){var n=r(this,e).delete(e);return this.size-=n?1:0,n}return yt=t,yt}var gt,dn;function sa(){if(dn)return gt;dn=1;var r=ne();function t(e){return r(this,e).get(e)}return gt=t,gt}var mt,pn;function ua(){if(pn)return mt;pn=1;var r=ne();function t(e){return r(this,e).has(e)}return mt=t,mt}var vt,_n;function ca(){if(_n)return vt;_n=1;var r=ne();function t(e,n){var i=r(this,e),a=i.size;return i.set(e,n),this.size+=i.size==a?0:1,this}return vt=t,vt}var bt,yn;function la(){if(yn)return bt;yn=1;var r=ia(),t=oa(),e=sa(),n=ua(),i=ca();function a(u){var l=-1,p=u==null?0:u.length;for(this.clear();++l<p;){var d=u[l];this.set(d[0],d[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=n,a.prototype.set=i,bt=a,bt}var wt,gn;function fa(){if(gn)return wt;gn=1;var r="__lodash_hash_undefined__";function t(e){return this.__data__.set(e,r),this}return wt=t,wt}var St,mn;function ha(){if(mn)return St;mn=1;function r(t){return this.__data__.has(t)}return St=r,St}var qt,vn;function bn(){if(vn)return qt;vn=1;var r=la(),t=fa(),e=ha();function n(i){var a=-1,u=i==null?0:i.length;for(this.__data__=new r;++a<u;)this.add(i[a])}return n.prototype.add=n.prototype.push=t,n.prototype.has=e,qt=n,qt}var Rt,wn;function da(){if(wn)return Rt;wn=1;function r(t,e,n,i){for(var a=t.length,u=n+(i?1:-1);i?u--:++u<a;)if(e(t[u],u,t))return u;return-1}return Rt=r,Rt}var Ct,Sn;function pa(){if(Sn)return Ct;Sn=1;function r(t){return t!==t}return Ct=r,Ct}var Ft,qn;function _a(){if(qn)return Ft;qn=1;function r(t,e,n){for(var i=n-1,a=t.length;++i<a;)if(t[i]===e)return i;return-1}return Ft=r,Ft}var Ot,Rn;function ya(){if(Rn)return Ot;Rn=1;var r=da(),t=pa(),e=_a();function n(i,a,u){return a===a?e(i,a,u):r(i,t,u)}return Ot=n,Ot}var It,Cn;function Fn(){if(Cn)return It;Cn=1;var r=ya();function t(e,n){var i=e==null?0:e.length;return!!i&&r(e,n,0)>-1}return It=t,It}var jt,On;function In(){if(On)return jt;On=1;function r(t,e,n){for(var i=-1,a=t==null?0:t.length;++i<a;)if(n(e,t[i]))return!0;return!1}return jt=r,jt}var Tt,jn;function Tn(){if(jn)return Tt;jn=1;function r(t,e){return t.has(e)}return Tt=r,Tt}var At,An;function ga(){if(An)return At;An=1;var r=ee(),t=J(),e=r(t,"Set");return At=e,At}var Et,En;function ma(){if(En)return Et;En=1;function r(){}return Et=r,Et}var xt,xn;function Pn(){if(xn)return xt;xn=1;function r(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}return xt=r,xt}var Pt,Dn;function va(){if(Dn)return Pt;Dn=1;var r=ga(),t=ma(),e=Pn(),n=1/0,i=r&&1/e(new r([,-0]))[1]==n?function(a){return new r(a)}:t;return Pt=i,Pt}var Dt,Ln;function ba(){if(Ln)return Dt;Ln=1;var r=bn(),t=Fn(),e=In(),n=Tn(),i=va(),a=Pn(),u=200;function l(p,d,y){var g=-1,f=t,m=p.length,b=!0,w=[],S=w;if(y)b=!1,f=e;else if(m>=u){var U=d?null:i(p);if(U)return a(U);b=!1,f=n,S=new r}else S=d?[]:w;e:for(;++g<m;){var q=p[g],C=d?d(q):q;if(q=y||q!==0?q:0,b&&C===C){for(var E=S.length;E--;)if(S[E]===C)continue e;d&&S.push(C),w.push(q)}else f(S,C,y)||(S!==w&&S.push(C),w.push(q))}return w}return Dt=l,Dt}var Lt,kn;function wa(){if(kn)return Lt;kn=1;var r=9007199254740991;function t(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=r}return Lt=t,Lt}var kt,Mn;function Sa(){if(Mn)return kt;Mn=1;var r=xr(),t=wa();function e(n){return n!=null&&t(n.length)&&!r(n)}return kt=e,kt}var Mt,Un;function $n(){if(Un)return Mt;Un=1;var r=Sa(),t=X();function e(n){return t(n)&&r(n)}return Mt=e,Mt}var Ut,Hn;function qa(){if(Hn)return Ut;Hn=1;var r=Ai(),t=zr(),e=ba(),n=$n(),i=t(function(a){return e(r(a,1,n,!0))});return Ut=i,Ut}var Ra=qa();const Ca=oe(Ra);var $t,Nn;function Fa(){if(Nn)return $t;Nn=1;function r(t,e){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=e(t[n],n,t);return a}return $t=r,$t}var Ht,Bn;function Oa(){if(Bn)return Ht;Bn=1;function r(t){return function(e){return t(e)}}return Ht=r,Ht}var Nt,Gn;function Ia(){if(Gn)return Nt;Gn=1;var r=bn(),t=Fn(),e=In(),n=Fa(),i=Oa(),a=Tn(),u=200;function l(p,d,y,g){var f=-1,m=t,b=!0,w=p.length,S=[],U=d.length;if(!w)return S;y&&(d=n(d,i(y))),g?(m=e,b=!1):d.length>=u&&(m=a,b=!1,d=new r(d));e:for(;++f<w;){var q=p[f],C=y==null?q:y(q);if(q=g||q!==0?q:0,b&&C===C){for(var E=U;E--;)if(d[E]===C)continue e;S.push(q)}else m(d,C,g)||S.push(q)}return S}return Nt=l,Nt}var Bt,zn;function ja(){if(zn)return Bt;zn=1;var r=Ia(),t=zr(),e=$n(),n=t(function(i,a){return e(i)?r(i,a):[]});return Bt=n,Bt}var Ta=ja();const Aa=oe(Ta);function Ea(r,t){const e=r.location,n=G.parseUrl((e==null?void 0:e.url)||t,{arrayFormat:"comma",parseFragmentIdentifier:!0}),i={};let a;if(e){if(e.stringQuery){const g=G.parse(e.stringQuery,{arrayFormat:"comma"});e.query={...g,...e.query}}if(e.mergeQuery){const g=e.clearMergeQueryKeys||[];for(const[f,m]of Object.entries(n.query))g.indexOf(f.split(".")[0])<0&&(i[f]=m);e.query||(e.query={})}a=e.query}const u=a||n.query;let l="";for(const[g,f]of Object.entries(u))Array.isArray(f)?i[g]=f:typeof f=="object"?xa(i,g,f):i[g]=f;const p={...i,__execute_event__:r.id};for(const[g,f]of Object.entries(p))(f==null||f==="")&&delete p[g];l=G.stringify(i,{arrayFormat:"comma"}),l.length>0&&(l=`?${l}`);let d=n.url+l;return n.fragmentIdentifier&&(d=d+"#"+n.fragmentIdentifier),{pushStateArgs:[{query:i,url:d},"",d],eventURL:`${n.url}?${G.stringify(p,{arrayFormat:"comma"})}`}}function xa(r,t,e){if(!e.value)return;let n=e.value;Array.isArray(e.value)||(n=[e.value]);let i=r[t];if(i&&!Array.isArray(i)&&(i=[i]),e.add){r[t]=Ca(i,n);return}if(e.remove){const a=Aa(i,...n);a.length===0?delete r[t]:r[t]=a}}function ie(r,t,e){if(!t||t.length===0)return!1;if(e instanceof Event)return ie(r,t,e.target);if(e instanceof HTMLInputElement){if(e.files)return ie(r,t,e.files);switch(e.type){case"checkbox":return e.checked?V(r,t,e.value):r.has(t)?(r.delete(t),!0):!1;case"radio":return e.checked?V(r,t,e.value):!1;default:return V(r,t,e.value)}}if(e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement)return V(r,t,e.value);if(e==null)return V(r,t,"");let n=!1;if(r.has(t)&&(n=!0,r.delete(t)),Array.isArray(e)||e instanceof FileList){for(let i=0;i<e.length;i++)e[i]instanceof File?(n=!0,r.append(t,e[i],e[i].name)):(n=!0,r.append(t,e[i]));return n}return e instanceof File?(r.set(t,e,e.name),!0):V(r,t,e)}function V(r,t,e){return r.get(t)===e?!1:(r.set(t,e),!0)}function Vn(r,t,e=""){if(r==null)return;const n=Array.isArray(r);if(n&&r.length>0&&(r[0]instanceof File||r[0]instanceof Blob)){ie(t,e,r);return}return Object.keys(r).forEach(i=>{if(i==="$parent")return;const a=r[i],u=e?n?`${e}[${i}]`:`${e}.${i}`:i;typeof a=="object"&&!(a instanceof File)&&!(a instanceof Date)?Vn(a,t,u):ie(t,u,a)}),t}class Pa{constructor(){F(this,"_eventFuncID",{id:"__reload__"});F(this,"_url");F(this,"_method");F(this,"_vars");F(this,"_locals");F(this,"_closer");F(this,"_scope",{});F(this,"_loadPortalBody",!1);F(this,"_form",{});F(this,"_popstate");F(this,"_pushState");F(this,"_location");F(this,"_updateRootTemplate");F(this,"_buildPushStateResult");F(this,"_parents");F(this,"_preFetch",[]);F(this,"_noCache",!1);F(this,"ignoreErrors",["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"]);F(this,"isIgnoreError",t=>{var e;return t instanceof Error?(e=this.ignoreErrors)==null?void 0:e.includes(t.message):!1});F(this,"runScript",t=>{if(t.runScript){let e=t.runScript;this._scope&&(e=`with(this._scope) {
`+e+`
}`),new Function("vars","locals","form","closer","scope","plaid",e).apply(this,[this._vars,this._locals,this._form,this._closer,this._scope,()=>Gt().vars(this._vars).locals(this._locals).form(this._form).closer(this._closer).updateRootTemplate(this._updateRootTemplate)])}return t})}parseUrl(t){const e=G.parseUrl(t,{arrayFormat:"comma",parseFragmentIdentifier:!0});return this._url=e.url,this._location={},e.query.__execute_event__&&(this.eventFunc(e.query.__execute_event__),delete e.query.__execute_event__),Object.keys(e.query).forEach(n=>this.query(n,e.query[n])),this}eventFunc(t){return this._eventFuncID.id=t,this}updateRootTemplate(t){return this._updateRootTemplate=t,this}eventFuncID(t){return this._eventFuncID=t,this}reload(){return this._eventFuncID.id="__reload__",this}url(t){return this._url=t,this}vars(t){return this._vars=t,this}closer(t){return this._closer=t,this}loadPortalBody(t){return this._loadPortalBody=t,this}locals(t){return this._locals=t,this}query(t,e){return this._location||(this._location={}),this._location.query||(this._location.query={}),this._location.query[t]=e,this}mergeQuery(t){return this._location||(this._location={}),this._location.mergeQuery=t,this}clearMergeQuery(t){return this._location||(this._location={}),this._location.mergeQuery=!0,this._location.clearMergeQueryKeys=t,this}location(t){return this._location=t,this}stringQuery(t){return this._location||(this._location={}),this._location.stringQuery=t,this}pushState(t){return this._pushState=t,this}queries(t){return this._location||(this._location={}),this._location.query=t,this}pushStateURL(t){return this._location||(this._location={}),this._location.url=t,this.pushState(!0),this}form(t){return this._form=t,this}scope(t){return t&&(this._scope={...this._scope??{},...t}),this}fieldValue(t,e){if(!this._form)throw new Error("form not exist");return this._form[t]=e,this}popstate(t){return this._popstate=t,this}preFetch(t){return this._preFetch.push(t),this}run(t){return new Function(t).apply(this),this}method(t){return this._method=t,this}parent(t,e){return this._parents=this._parents||{},this._parents[t]=e,this}noCache(){return this._noCache=!0,this}buildFetchURL(){return this.ensurePushStateResult(),this._buildPushStateResult.eventURL}buildPushStateArgs(){return this.ensurePushStateResult(),this._buildPushStateResult.pushStateArgs}onpopstate(t){return t.state?this.popstate(!0).location(t.state).reload().go():Promise.reject("event state is undefined")}runPushState(){if(this._popstate!==!0&&this._pushState===!0){window.history.length<=2&&window.history.pushState({url:window.location.href},"",window.location.href);const t=this.buildPushStateArgs();t&&window.history.pushState(...t)}}async fetch(){this._eventFuncID.id=="__reload__"&&(this._buildPushStateResult=null);const t={method:"POST",redirect:"follow"};if(this._method&&(t.method=this._method),t.method==="POST"){const i=new FormData;Vn(this._form,i),t.body=i}window.dispatchEvent(new Event("fetchStart"));let e=this.buildFetchURL();if(this._preFetch.length){const i={builder:this,options:t,url:e};this._preFetch.forEach(a=>{a(i)}),e=i.url}let n={};try{const i=await fetch(e,t).catch(a=>{console.error(a),Promise.reject(a),this.isIgnoreError(a)||alert("Fetch Unknown Error: "+a)});if(!i)return n;if(!i.ok)return this._vars.presetsMessage={show:!0,message:`Server Response Error: <code>${i.status}</code> (${i.statusText}). See window console for detail.`,color:"error"},Promise.reject(new Error(`Response status: ${i.status} ${i.statusText}`)),n;if(i.redirected)return document.location.replace(i.url),n;n=await i.json()}finally{window.dispatchEvent(new Event("fetchEnd"))}return n}go(){return this.goPre(t=>null)}goPre(t){return t(this),this.runPushState(),this.fetch().then(this.runScript).then(e=>{if(e.pageTitle&&(document.title=e.pageTitle),e.redirectURL&&document.location.replace(e.redirectURL),e.reloadPortals&&e.reloadPortals.length>0)for(const n of e.reloadPortals){const i=window.__goplaid.portals[n];i&&i.reload()}if(e.updatePortals&&e.updatePortals.length>0)for(const n of e.updatePortals)if(window.__goplaid.portals[n.name]){const{updatePortalTemplate:i}=window.__goplaid.portals[n.name];i&&i(n.body)}else n.defer?setTimeout(i=>{if(window.__goplaid.portals[i.name]){const{updatePortalTemplate:a}=window.__goplaid.portals[i.name];a&&a(i.body)}else console.error("go-plaid-portal defered '"+i.name+"' does not exists.")},10,n):console.error("go-plaid-portal '"+n.name+"' does not exists.");return e.pushState?Gt().updateRootTemplate(this._updateRootTemplate).reload().pushState(!0).location(e.pushState).go():(this._loadPortalBody&&e.body||e.body&&this._updateRootTemplate(e.body),e)})}json(){return this.fetch().then(t=>t.data)}ensurePushStateResult(){if(!this._noCache&&this._buildPushStateResult)return;const t=window.location.href;let e=this._url;e&&this._parents&&Object.keys(this._parents).forEach(i=>{e=e.replace("{parent_"+i+"_id}",this._parents[i].toString())}),this._buildPushStateResult=Ea({...this._eventFuncID,location:this._location},e||t)}}function Gt(){return new Pa}const Da={mounted:(r,t,e)=>{var d,y;let n=r;e.component&&(n=(y=(d=e.component)==null?void 0:d.proxy)==null?void 0:y.$el);const i=t.arg||"scroll",u=G.parse(location.hash)[i];let l="";Array.isArray(u)?l=u[0]||"":l=u||"";const p=l.split("_");p.length>=2&&(n.scrollTop=parseInt(p[0]),n.scrollLeft=parseInt(p[1])),n.addEventListener("scroll",qe(function(){const g=G.parse(location.hash);g[i]=n.scrollTop+"_"+n.scrollLeft,location.hash=G.stringify(g)},200))}},La={mounted:(r,t)=>{const[e,n]=t.value;Object.assign(e,n)}},ka=s.defineComponent({props:{initialTemplate:{type:String,required:!0}},setup(r,{emit:t,attrs:e,expose:n}){const i=s.shallowRef(null),a=s.reactive({});s.provide("form",a);const u=s.reactive({});s.provide("locals",u);const l=s.reactive({});s.provide("closer",l),s.reactive({}),s.provide("fullscreen",u);const p=s.reactive({__notification:{}});s.provide("vars",p);const d=()=>Gt().updateRootTemplate(g).vars(p);s.provide("plaid",d);const y=s.ref(!1);s.provide("isFetching",y);const g=f=>{i.value=Re(f,{form:a,locals:u})};return s.provide("updateRootTemplate",g),s.onMounted(()=>{g(r.initialTemplate),window.addEventListener("fetchStart",f=>{y.value=!0}),window.addEventListener("fetchEnd",f=>{y.value=!1}),window.addEventListener("popstate",f=>{f&&f.state!=null&&d().onpopstate(f)})}),{current:i}},template:`
      <div id="app" v-cloak>
        <component :is="current"></component>
      </div>
    `}),Ma={install(r){r.component("GoPlaidScope",li),r.component("GoPlaidPortal",hi),r.component("GoPlaidRunScript",di),r.component("UserComponent",pi),r.directive("keep-scroll",Da),r.directive("assign",La),r.component("GlobalEvents",Xn)}};function Ua(r){const t=s.createApp(ka,{initialTemplate:r}),e=s.ref(!1),n=i=>{window.navigator.clipboard.writeText(i),e.value=!0,window.setTimeout(()=>{e.value=!1},1e3)};return t.config.globalProperties.copyToClipboard=n,t.config.globalProperties.copiedToClipboard=e,t.config.globalProperties.presetsListing=null,t.config.globalProperties.presetsDetailing=null,t.config.globalProperties.presetsCreating=null,t.config.globalProperties.presetsEditing=null,t.use(Ma),t}const Kn=document.getElementById("app");if(!Kn)throw new Error("#app required");const $a={},Jn=Ua(Kn.innerHTML);for(const r of window.__goplaidVueComponentRegisters||[])r(Jn,$a);Jn.mount("#app")});
